<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>Basic Cue Point Example</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

  <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/github.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>

<body>
  <!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
      <div id="top" class="section">
        <h1>Basic Cue Point Example</h1>
        <!-- Place document intro sentence(s) here -->
        <p>This example shows basic use of cue points. Three cue points are set in Video Cloud Studio and as those cue points are reached an event is dispatched, handled,
          and text is altered on the screen.</p>
      </div>
      <div id="resources" class="section">
        <!-- h2 contents will be in page navigation label - 21 characters (including spaces) maximum -->
        <h2><a name="resources"></a>API resources used</h2>
        <h3>Smart Player API</h3>
        <p>This sample uses the following API resources</p>
        <h4>Modules and methods</h4>
        <ul>
          <li>VIDEO_PLAYER
            <ul>
              <li>addEventListener()</li>
              <li>play()</li>
            </ul>
          </li>
        </ul>
        <h4>Events</h4>
        <ul>
          <li>brightcove.api.events.CuePointEvent</li>
        </ul>
      </div>
      <!-- div id="resources" -->
      <div id="player" class="section">
        <!-- h2 contents will be in page navigation label - 21 characters (including spaces) maximum -->
        <h2><a name="player"></a>The player</h2>
        <p>A standard Chromeless Video Player is used for this sample. Cue points event will be dispatched at 4, 14, and 24 seconds in the video. At each cue point text is altered/added below the player.</p>
        <div class="player-block">
          <!-- Start of Brightcove Player -->
          <div style="display:none"></div>
          <!--By use of this code snippet, I agree to the Brightcove Publisher T and C found at https://accounts.brightcove.com/en/terms-and-conditions/. -->
          <script language="JavaScript" type="text/javascript" src="//sadmin.brightcove.com/js/BrightcoveExperiences.js"></script>
          <object id="myExperience3479661427001" class="BrightcoveExperience">
            <param name="bgcolor" value="#FFFFFF" />
            <param name="width" value="480" />
            <param name="height" value="270" />
            <param name="playerID" value="3479617268001" />
            <param name="playerKey" value="AQ~~,AAABmA9XpXk~,-Kp7jNgisrdGPvvW3e5kmhpzh0wQbS6O" />
            <param name="isVid" value="true" />
            <param name="isUI" value="true" />
            <param name="dynamicStreaming" value="true" />
            <param name="@videoPlayer" value="3479661427001" />
            <!-- smart player api params -->
            <param name="includeAPI" value="true" />
            <param name="templateLoadHandler" value="onTemplateLoad" />
            <param name="templateReadyHandler" value="onTemplateReady" />
          </object>
          <!-- This script tag will cause the Brightcove Players defined above it to be created as soonas the line is read by the browser. If you wish to have the player instantiated only afterthe rest of the HTML is processed and the page load is complete, remove the line.-->
          <script type="text/javascript">
            brightcove.createExperiences();
          </script>
          <!-- End of Brightcove Player -->
          <p><strong>Text below here will change as cue points are reached.</strong>
          </p>
          <div id="displayInfo" style="color: #ff0000"></div>
          <br />
          <p><strong>Cue point details extracted from the cue point event object:</strong>
          </p>
          <div id="cpInfo"></div>
        </div>
        <!-- div class="player-block" -->
      </div>
      <!-- div id="player" -->
      <div id="logic" class="section">
        <h2><a name="logic"></a>How it is done</h2>
        <p>The sample uses the Smart Player API.</p>
        <h3>The creating cue points part</h3>
        <p>There are a number of ways to create cue points, which are explained in the <a href="http://support.brightcove.com/en/video-cloud/docs/adding-cue-points-videos">Adding Cue Points to Videos</a> document.</p>
        <h3>The Smart Player API part</h3>
        <p>In addition to automatically playing the video, the only other Smart Player API code is creating a cue point event object and then using that object to add an event listener:</p>
        <p><code data-gist-id="11062437" data-gist-line="64,70" data-gist-hide-footer="true"></code></p>
        <h3>The rest</h3>
        <p>In the event handler for the cue point event text is written into two different <code>&lt;div></code> tags.</p>
        <p><code data-gist-id="11062437" data-gist-line="73-78" data-gist-hide-footer="true"></code></p>
        <p>The "product" data displayed on each cue point event is defined in an object, then accessed using <em>object[property]</em> notation:</p>
        <p><code data-gist-id="11062437" data-gist-line="51-55,76" data-gist-hide-footer="true"></code></p>
      </div>
      <!-- div id="logic" -->
      <div id="code" class="section">
        <h2><a name=""></a>The code</h2>
        <p>See the full code sample <a href="https://gist.github.com/bcls/11062437">here</a>.</p>
        <h3>Complete cue point objects</h3>
        <p>You can view, and if you wish programmatically leverage, the full cue point object data. The first option is to use the <code>getCuePoints()</code> method, which retrieves all the cue points for a specified video. This method has two arguments, the video ID and a callback function. You can see the use of the method and result here:</p>
        <p><code data-gist-id="11062437" data-gist-line="68,71,79-81" data-gist-hide-footer="true"></code></p>
        <div><img src="/en/video-cloud/smart-player-api/samples/assets/cue-points-getCuePoints-method.png" /></div>
        <p>Alternatively, you can see all cue point information in the cue point event handler, as shown here:</p>
        <p><code data-gist-id="11062437" data-gist-line="73-78" data-gist-hide-footer="true" data-gist-highlight-line="74"></code></p>
        <div><img src="/en/video-cloud/smart-player-api/samples/assets/cue-points-console-log.png" /></div>
        <h3>Modifications to the player publishing code</h3>
        <p><code data-gist-id="11062437" data-gist-line="27-30" data-gist-hide-footer="true"></code></p>
        <h3>JavaScript used for this sample:</h3>
        <p><code data-gist-id="11062437" data-gist-line="43-82" data-gist-hide-footer="true"></code></p>
      </div>
      <!-- div id="code" -->
      <div class="section" id="BCLreferences">
        <h2>Related Topics</h2>
        <ul>
          <li><a href="http://docs.brightcove.com/en/video-cloud/smart-player-api/samples/shopping-highlights.html">Smart Player API Samples: Shopping Highlights</a>
          <li><a href="http://docs.brightcove.com/en/video-cloud/smart-player-api/samples/call-to-action.html">Smart Player API Samples: Call to Action</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
  <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script type="text/javascript">
    /******** Any scripts specific to page samples should go here *********/
    var player,
      APIModules,
      cuePointsModule,
      videoPlayer,
      cuePointEvent,
      //Data for display, most likely would come from external source such as database
      cuePointData = {
        foo: "This is the information for product foo",
        bar: "Bar is the next product on the list",
        baz: "The final product in the list is baz"
      },
      logit = function (message) {
        if (window.console) {
          console.log(message);
        }
      },     
      onTemplateLoad = function (experienceID) {
        player = brightcove.api.getExperience(experienceID);
        APIModules = brightcove.api.modules.APIModules;
        cuePointEvent = brightcove.api.events.CuePointEvent;
      },
      onTemplateReady = function (evt) {
        videoPlayer = player.getModule(APIModules.VIDEO_PLAYER);
        cuePointsModule = player.getModule(APIModules.CUE_POINTS);
        videoPlayer.play();
        videoPlayer.addEventListener(cuePointEvent.CUE, onCue);
        cuePointsModule.getCuePoints("3479661427001",displayCuePoints);
      },
      onCue = function (evt) {
        logit(evt.cuePoint);
        var thisCutPointName = evt.cuePoint.name;
        document.getElementById("displayInfo").innerHTML = cuePointData[thisCutPointName];
        document.getElementById("cpInfo").innerHTML += "Cue point name: <em>" + evt.cuePoint.name + "</em>,  cue point time: <em>" + evt.cuePoint.time + "</<em><br />";
      },
      displayCuePoints = function(evt) {
        logit(evt);
      };
  </script>
    
    
	<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>