<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <title id="bclPageTitle">Smart Player API Sample: Video Geo-Filtering Error Display</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/anytime.5.0.0-1401232312.min.css" />
    <link rel="stylesheet" href="/en/video-cloud/smart-player-api/samples/css/api-samples.css" type="text/css">
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>
  <body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
        <div id="top" class="section">
          <h1>Video Geo-Filtering Error Display</h1>
          <!-- content starts here -->

          <!-- Start of content -->

          <p class="BCL-objective">This topic describes how to use the Smart Player API to display an appropriate error when a geo-filtered video tries to playback in a restricted geography.</p>
            <div class="BCL-aside">
                <p>If you are using a geo-filtered player, the technique described in this document is not necessary, as the restricted player displays an appropriate error message.</p>
                <p>If you are using geo-filtered media with a non-filtered player, the playback dies silently. So, the technique in this document is needed when using geo-filtered media with a non-filtered player.</p>
                <p>Note the following error types:</p>
                <ul>
                    <li><code>errorType = "geoRestricted"</code> is for a geo-restricted player</li>
                    <li><code>errorType = "VS_RESTRICT_GEO"</code> is for a geo-restricted video</li>
                </ul>
                <p>This document addresses how to handle a geo-restricted video.</p>
            </div>
        </div><!-- div id="top" -->
        <!--break-->
        <div id="resources" class="section">
          <!-- h2 contents will be in page navigation label - 21 characters (including spaces) maximum -->
          <h2>API resources used</h2>
          <h3>Smart Player API</h3>
          <p>This sample uses the following API resources</p>
          <ul>
            <li>templateErrorHandler &lt;param></li>
          </ul>
        </div><!-- div id="resources" -->

        <div id="functionality" class="section">
          <h2>Functionality</h2>
          <p>A message is displayed when geo-filtered media tries to playback in a non-filtered player.</p>
          <img src="/en/video-cloud/smart-player-api/samples/assets/geo-filtering-error.png" alt="geo-filtering error" />
          <p>The actual message text and style is set in the HTML and CSS.</p>
            <p>Click <a href="//solutions.brightcove.com/bcls/smart-player-api/geo-restrict.html">here</a> to see a working sample. Open your browser tools and console to see the error object.</p>
        </div><!-- div id="player" -->

        <div id="logic" class="section" >
          <h2>How it is done</h2>
          <p>This sample uses the Smart Player API to dispatch an error event and then handle it.</p>
          <h3>The Smart Player API part</h3>
          <p>In the player code, as a child of the <code>&lt;object></code> tag, a <code>templateErrorHandler</code> is setup as follows:</p>
          <p><code data-gist-id="9694606" data-gist-hide-footer="true" data-gist-line="46"></code></p>
          <h3>The error handler</h3>
          <p>The error handler function designated in the error hander setup listens for the <code>VS_RESTRICT_GEO</code> <code>errorType</code>. If the type matches the geo-restriction error, the <code>display</code> style of the <code>geo-message</code>'s <code>&lt;div></code> element is changed from <code>none</code> to <code>block</code>. The <code>none</code> value is initially set in the CSS definition.</p>
          <p><code data-gist-id="9694606" data-gist-hide-footer="true" data-gist-line="55-63"></code></p>
        </div><!-- div id="logic" -->

        <div id="code" class="section">
          <h2>The code</h2>
          <p>See the full code sample <a href="https://gist.github.com/bcls/9694606">here</a>.</p>
          <h3>Modifications made to the player publishing code</h3>
          <p><code data-gist-id="9694606" data-gist-hide-footer="true" data-gist-line="45-46"></code></p>
          <h3>JavaScript used for this sample</h3>
          <p><code data-gist-id="9694606" data-gist-hide-footer="true" data-gist-line="55-63"></code></p>
          <h3>CSS used for this sample</h3>
          <p><code data-gist-id="9694606" data-gist-hide-footer="true" data-gist-line="7-23"></code></p>
        </div><!-- div id="code" -->
        <div class="section" id="BCLreferences">
          <h2>Related Topics</h2>
          <ul>
            <li> <a href="http://support.brightcove.com/en/video-cloud/docs/geo-filtering-your-videos">Geo-filtering your Videos</a></li>
            <li><a href="http://support.brightcove.com/en/video-cloud/docs/geo-filtering-players">Geo-filtering Players</a></li>
          </ul>
        </div>
      </div><!-- div id="main" -->
    </div><!-- <div class="row"> -->
    <!-- bcl scripts============================================================-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script src="/en/scripts/flashHTMLswitch-nojQ.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script id="pageScript" type="text/javascript">
      /******** Any scripts specific to page samples should go here *********/
    </script>

      
    
	<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>
</html>