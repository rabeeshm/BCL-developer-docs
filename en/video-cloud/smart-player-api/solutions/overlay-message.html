<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title id="bclPageTitle">Smart Player API Samples: Overlay Message</title>
    <link href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" rel="stylesheet" type="text/css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href="//files.brightcove.com/proxima-nova/font-faces.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link href="/en/video-cloud/smart-player-api/samples/css/api-samples.css" rel="stylesheet" type="text/css" />
    <style id="pageStyles">
      /**********************************************
      Styles for overlay sample
      **********************************************/
      .playerBlock {
        padding: 0;
        position: relative;
        width: 480px;
        height: 280px;
      }
      .bclOverlay a {
         cursor: pointer;
      }
      .overlayContainer {
        background-color: #000000;
        position:absolute;
        top: 20px;
        left: 0;
        height: 30px;
        width: 480px;
        z-index: 100;
        overflow: hidden;
        padding-top: 4px;
      }
      #bclOverlay {
        width: 480px;
        padding: 4px;
        color: #FFFFFF;
        overflow: hidden;
        font-size: 28px;
        text-shadow: rgba(0,0,0,0.5) 0px -1px 3px;
        white-space: nowrap;
        background-color: #000000;
      }
      .transparent {
        opacity:0;
      }
      .opaque {
        opacity: .5;
      }
      .BrightcoveExperience {
        position: absolute;
        left: 0;
        top: 0;
      }
    </style>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>
  <body>
  <!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
        <div id="top" class="section">
            <h1 id="bclPageHeading">Smart Player API Samples: Overlay Message</h1>
          <p>This sample displays an overlay scrolling text message while the video is playing. The text message can be clicked to open a new page in a separate tab/window.</p>
          <div class="text-warning">
            <h3>3rd party libraries used in this sample</h3>
            <p>Note: 3rd party libraries are used to simplify the JavaScript in the sample. These libraries are not supported by Brightcove. All functionality can be reproduced in ordinary JavaScript.</p>
            <ul>
              <li><a href="//jquery.org">jQuery</a></li>
              <li><a href="http://aamirafridi.com/jquery/jquery-marquee-plugin">jQuery Marquee Plugin</a></li>
            </ul>
          </div>
        </div>
        <!-- every div class section must have an id -->
            <div class="section" id="resources">
              <h2><a name="resources"></a>API resources used</h2>
              <p>This sample uses the following API resources</p>
              <h4>Modules and methods</h4>
              <ul>
                <li>VIDEO_PLAYER
                  <ul>
                    <li>addEventListener()</li>
                  </ul>
                </li>
              </ul>
              <h4>Events</h4>
              <ul>
                <li>templateLoad</li>
                <li>templateReady</li>
                <li>media: BEGIN</li>
                <li>media: PLAY</li>
                <li>media: STOP</li>
              </ul>
            </div>
        <div class="section" id="player">
          <!-- h2 contents will be in page navigation label - 21 characters (including spaces) maximum -->
          <h2><a name="player"></a>The Player</h2>
          <p>A standard Chromeless Video Player is used for this sample.</p>
          <p class="text-warning">Note: the buttons below are for development purposes only &mdash; do not use in production.</p>
          <div id="modeSwitch">
            <span class="button" id="switchToHTML5" style="margin-bottom: 20px;margin-right: 10px;">Switch to HTML5 Player</span>
            <span class="button" id="switchToFlash" style="margin-bottom: 20px;">Switch to Flash Player</span>
          </div>
          <div class="playerBlock">
            <!-- the overlay -->
            <div class="overlayContainer transparent">
              <a id="bclOverlayLink" href="//support.brightcove.com/en/training-videos">
                <div id="bclOverlay" class="marquee">Check out our video tutorials!</div>
              </a>
            </div>
            <!-- Start of Brightcove Player -->
            <script language="JavaScript" type="text/javascript" src="//sadmin.brightcove.com/js/BrightcoveExperiences.js"></script>
            <object id="myExperience921449663001" class="BrightcoveExperience">
              <param name="bgcolor" value="#FFFFFF" />
              <param name="width" value="480" />
              <param name="height" value="270" />
              <param name="playerID" value="2079935931001" />
              <param name="playerKey" value="AQ~~,AAAA1oy1bvE~,ALl2ezBj3WE0z3yX6Xw29sdCvkH5GCJv" />
              <param name="isVid" value="true" />
              <param name="isUI" value="true" />
              <param name="dynamicStreaming" value="true" />
              <param name="@videoPlayer" value="1595052160001" />
              
              <param name="includeAPI" value="true" />
              <param name="templateLoadHandler" value="BCLS.onTemplateLoad" />
              <param name="templateReadyHandler" value="BCLS.onTemplateReady" />
            </object>
            <script src="//docs.brightcove.com/en/scripts/https-fix.js"></script><script type="text/javascript">brightcove.createExperiences();</script>
            <!-- End of Brightcove Player -->
          </div>
          <br style="clear:both" />
        </div>
        <div class="section" id="logic">
          <h2><a name="logic"></a>How it is done</h2>
          <p>The Smart Player API part of this is simple. All you need is a reference to the VIDEO_PLAYER module, for which you need to add STOP and PLAY event listeners to know when to turn the overlay on and off. The rest is just JavaScript (using jQuery and a jQuery Marquee plugin here to simplify the code) and CSS, which you view in the code section below.</p>
        </div>
        <div class="section" id="code">
          <h2><a name="code"></a>The Code</h2>
            <h3>Modifications to the player publishing code</h3>
<pre><code>
  &lt;!-- smart player api params --&gt;
  &lt;param name="includeAPI" value="true" /&gt;
  &lt;param name="templateLoadHandler" value="BCLS.onTemplateLoad" /&gt;
  &lt;param name="templateReadyHandler" value="BCLS.onTemplateReady" /&gt;
</code></pre>
          <h3>CSS used for this sample:</h3>
<pre><code id="css_code"></code></pre>
          <h3>JavaScript used for this sample:</h3>
<pre><code id="js_code"></code></pre>
        </div>
      </div>
    </div>
    <!-- bcl scripts -->
    <script src="/en/scripts/prefix.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="/en/scripts/jquery.marquee.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script id="pageScript" type="text/javascript">
      /******** Any scripts specific to page samples should go here *********/
      /**** Brightcove Learning namespace ****/
      var BCLS = ( function (){
        var player,
            APIModules,
            mediaEvent,
            videoPlayer,
            // references to elements for the bclOverlayMessage
            $overlay = $("#bclOverlay");
            $overlayContainer = $(".overlayContainer")
        // private functions
        startTheOverlay = function() {
          $overlayContainer.removeClass("transparent");
          $overlayContainer.addClass("opaque");
          $overlay.marquee({
              //speed in milliseconds of the marquee
              speed: 8000,
              //gap in pixels between the tickers
              gap: 20,
              //gap in pixels between the tickers
              delayBeforeStart: 0,
              //'left' or 'right'
              direction: 'left'
          });
        };
        // public functions
        return {
          /**** template loaded event handler ****/
          onTemplateLoad : function (experienceID) {
            BCLSmain.bclslog("template load");
            // get a reference to the player and API Modules and Events
            player = brightcove.api.getExperience(experienceID);
            APIModules = brightcove.api.modules.APIModules;
            mediaEvent = brightcove.api.events.MediaEvent;
          },
          /**** template ready event handler ****/
          onTemplateReady : function (evt) {
            BCLSmain.bclslog("template ready");
            // get references to modules
            videoPlayer = player.getModule(APIModules.VIDEO_PLAYER);
            // set media BEGIN, PLAY and STOP listeners
            videoPlayer.addEventListener(mediaEvent.BEGIN, BCLS.onMediaBegin);
            videoPlayer.addEventListener(mediaEvent.PLAY, BCLS.onMediaPlay);
            videoPlayer.addEventListener(mediaEvent.STOP, BCLS.onMediaStop);
          },
          /**** media begin handler ****/
          onMediaBegin : function(evt) {
            BCLSmain.bclslog("media begin");
            //start the overlay
            startTheOverlay();
          },
          /**** media play handler ****/
          onMediaPlay : function (evt) {
            $overlayContainer.removeClass("transparent");
            $overlayContainer.addClass("opaque");
          },
          /**** media stop handler ****/
          onMediaStop : function (evt) {
            $overlayContainer.removeClass("opaque");
            $overlayContainer.addClass("transparent");
          }
        }
      }());
    </script>
    <script>
      $(document).ready(function(){
        $("#js_code").html(BCLSpreFix($("#pageScript").html()));
        $("#css_code").html(BCLSpreFix($("#pageStyles").html()));
      });
    </script>
      
    
	<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>
</html>
