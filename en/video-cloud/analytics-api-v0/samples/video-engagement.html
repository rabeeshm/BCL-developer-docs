<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <title id="bclPageTitle">Samples: Video Engagement Graph</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/en/styles/anytime.5.0.0-1401232312.min.css">
    <link rel="stylesheet" type="text/css" href="/en/video-cloud/analytics-api-v0/samples/css/video-engagement.css">
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div id="top" class="section">
                <h1>Samples: Video Engagement Graph</h1>
                <p class="BCL-objective">This sample allows you to generate an engagement graph for a video in your account. Although you can generate an engagement graph from a video report, here we use a
                    <em>rollup</em>request, because the response contains more complete data: rollups return engagement for every hundredth segment of the video, while a report returns only engagement at each quarter point of the video.</p>
            </div>
            <div id="request-inputs" class="section">
                <h2>Request Inputs</h2>
                <p class="text-warning">Note: the Analytics API is currently in
                    <strong>Limited Availability</strong>. If you are interested in enabling your account for the beta version of the API, please contact your account manager.</p>
                <h2>Request Options</h2>
                <p>Where no default value is indicated, there is none.</p>
                <div id="inputFields" class="input-fields">
                    <fieldset>
                        <legend>Basic Information</legend>
                        <div id="basicInfo">
                            <table>
                                <tbody>
                                    <tr>
                                        <td>Service URL:</td>
                                        <td>
                                            <input id="serviceURL" class="required aapi-request" type="text" size="55" value="https://data.brightcove.com/analytics-api/videocloud" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Video Cloud Account (Publisher ID):</td>
                                        <td>
                                            <input id="accountID" class="required aapi-request" type="text" size="55" value="20318290001">(default: BC Training Videos)</td>
                                    </tr>
                                    <tr>
                                        <td class="align-top no-wrap">Authorization Token:
                                            <sup class="red">*</sup>
                                        </td>
                                        <td>
                                            <input id="token" class="required aapi-request" type="text" size="55" value="15075c51ae4b0af095c9a619a" />(default: BC Training Videos)
                                            <p>
                                                <sup class="red">*</sup>If your account has been enabled for the Analytics API, this token was emailed to the account administrator when you joined the
                                                <strong>limited availability</strong>program.</p>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Media API READ Token:
                                            <br />(to retrieve videos to report or filter on)</td>
                                        <td>
                                            <input id="mapitoken" type="text" size="60" value="v87kWelIdjUwVm7_Rzv09k-KqtLz-ty8ONbMxVYAI7-Q0eOilegqqg.." />(default: BC Training Videos)
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Media API Location</td>
                                        <td>
                                            <select id="readApiLocation">
                                                <option value="http://api.brightcove.com/services/library">http://api.brightcove.com/services/library</option>
                                                <option value="http://api.brightcove.co.jp/services/library">http://api.brightcove.co.jp/services/library (Japan)</option>
                                            </select>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </fieldset>
                    <fieldset>
                        <legend>Filters</legend>
                        <div id="filters">
                            <table>
                                <tbody>
                                    <tr>
                                        <td>From:</td>
                                        <td>Date:
                                            <input class="aapi-request" id="startDate" type="text" size="30">Time:
                                            <input class="aapi-request" id="startTime" type="text" size="40">(default: 30 days ago)</td>
                                    </tr>
                                    <tr>
                                        <td>To:</td>
                                        <td>Date:
                                            <input class="aapi-request" id="endDate" type="text" size="30">Time:
                                            <input class="aapi-request" id="endTime" type="text" size="40">(default: now</td>
                                    </tr>
                                    <tr>
                                        <td>Where:</td>
                                        <td>
                                            <table class="where-terms">
                                                <tbody>
                                                    <tr>
                                                        <td>Player ID =</td>
                                                        <td>
                                                            <input id="player" class="where-input aapi-request" type="text" size="40" value="" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Video ID (required) =</td>
                                                        <td>
                                                            <div id="directVideoInput">
                                                                <input id="video" class="where-input aapi-request" type="text" size="40" value="" />
                                                                <br />Note: you can enter a video ID here, or
                                                                <a href="#mapitoken">enter your Media API READ token above</a>and then list or search for videos:</div>
                                                            <table>
                                                                <tbody>
                                                                    <tr>
                                                                        <td>Number of videos to retrieve on each call:</td>
                                                                        <td>
                                                                            <select id="pageSize">
                                                                                <option value="10">10</option>
                                                                                <option value="25" selected="selected">25</option>
                                                                                <option value="50">50</option>
                                                                                <option value="100">100</option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Search for videos (leave search terms blank to retrieve all videos)</td>
                                                                        <td>
                                                                            <p>What to search:</p>
                                                                            <select id="searchType">
                                                                                <option value="" selected="selected">Title and Description</option>
                                                                                <option value="tag">Tags</option>
                                                                                <option value="custom_fields">Custom Fields</option>
                                                                            </select>
                                                                            <p>Search for (separate multiple terms by commas):
                                                                                <input id="searchTerms" value="" size="60" />
                                                                            </p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Sort results by:</td>
                                                                        <td>
                                                                            <select id="sortBy">
                                                                                <option value="DISPLAY_NAME">Video Name</option>
                                                                                <option value="REFERENCE_ID">Reference ID</option>
                                                                                <option value="PUBLISH_DATE" selected="selected">Date Published</option>
                                                                                <option value="CREATION_DATE">Date Created</option>
                                                                                <option value="MODIFIED_DATE">Date Last Modified</option>
                                                                                <option value="START_DATE">Date Scheduled to Start</option>
                                                                                <option value="PLAYS_TRAILING_WEEK">Trailing Week Plays</option>
                                                                                <option value="PLAYS_TOTAL">All-Time Plays</option>
                                                                            </select>
                                                                            <select id="sortOrder">
                                                                                <option value="ASC">Ascending</option>
                                                                                <option value="DESC" selected="selected">Descending</option>
                                                                            </select>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td colspan="2">
                                                                            <span id="getVideosButton" class="bcls-button">Get videos</span>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>Select a video:</td>
                                                                        <td>
                                                                            <select id="videoSelector" class="where-input"></select>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Referring Domain =</td>
                                                        <td>
                                                            <input id="referrer_domain" class="where-input aapi-request" type="text" size="40" value="" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Source Type =</td>
                                                        <td>
                                                            <select id="source_type" class="where-input aapi-request">
                                                                <option value="">&nbsp;</option>
                                                                <option value="direct">direct</option>
                                                                <option value="referral">referral</option>
                                                                <option value="organic_search">organic_search</option>
                                                                <option value="paid_search">paid_search</option>
                                                                <option value="secure_search">secure_search</option>
                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Search Terms =</td>
                                                        <td>
                                                            <input id="search_terms" class="where-input aapi-request" type="text" size="40" value="" />
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Device Type =</td>
                                                        <td>
                                                            <select id="device_type" class="where-input aapi-request">
                                                                <option value="">&nbsp;</option>
                                                                <option value="mobile">mobile</option>
                                                                <option value="tablet">tablet</option>
                                                                <option value="tv">tv</option>
                                                                <option value="desktop">desktop</option>
                                                                <option value="other">other</option>
                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td>Device OS =</td>
                                                        <td colspan="2">
                                                            <select id="device_os" class="where-input aapi-request">
                                                                <option value="">&nbsp;</option>
                                                                <option value="android">android</option>
                                                                <option value="bada">bada</option>
                                                                <option value="tv">tv</option>
                                                                <option value="ios">ios</option>
                                                                <option value="rim">rim</option>
                                                                <option value="symbian">symbian</option>
                                                                <option value="web_os">web_os</option>
                                                                <option value="windows">windows</option>
                                                                <option value="os_x">os_x</option>
                                                                <option value="linux">linux</option>
                                                                <option value="other">other</option>
                                                            </select>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </fieldset>
                    </div>
                    <div class="section" id="requestSection">
                    <h2>The API Request</h2>
                    <div id="requestSubmitter">
                        <fieldset>
                            <legend>Generated Request</legend>
                            <p>API Request</p>
                            <textarea id="request" name="request" rows="3" cols="100"></textarea>
                            <p>Authorization</p>
                            <div id="authorizationDisplay" class="aapi-request"></div>
                            <input class="aapi-request" id="authorization" name="authorization" type="hidden" value="" />
                        </fieldset>
                        <p>
                            <span class="bcls-button" id="submitButton">Submit Request</span>
                        </p>
                    </div>
                </div>
                <div class="section" id="response">
                    <h2>Response</h2>
                    <pre>
                        <code id="responseFrame"></code>
                    </pre>
                </div>
                <div class="section" id="graph">
                    <h2>Engagement Graph</h2>
                    <p>Average views at % of video length</p>
                    <canvas id="chartEngagement" style="width:600px !important;height:400px !important;"></canvas>
                    <div id="chartEngagementLegend" style="padding:10px 20px;"></div>
                </div>
                <div class="section" id="code">
                    <h2>
                        <a name="code"></a>Code for this page</h2>
                    <h3>JavaScript used for this sample:</h3>
                    <iframe src="/en/video-cloud/analytics-api-v0/samples/js/video-engagement.js"></iframe>
                </div>
            </div>
        </div>
    </div>
        <!-- bcl scripts -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
            <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-migrate/1.2.1/jquery-migrate.min.js"></script>
        <!-- any+time data/time picker -->
        <script src="/en/scripts/anytime.5.0.0-1401232312.min.js"></script>
        <script type="text/javascript" src="/en/scripts/chartjs/Chart.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
        <script src="/en/scripts/bc-mapi.js"></script>
        <script src="/en/scripts/docs-nav-data.min.js"></script>
        <script src="/en/scripts/bcls-doc-site.js"></script>
        <script src="/en/scripts/format_json.js"></script>
        <script src="/en/scripts/prefix.js"></script>
        <script src="/en/video-cloud/analytics-api-v0/samples/js/video-engagement.js"></script>
    <script>
        $(document).foundation();
    </script>

    
    
	<iframe width="550" height="475" frameborder="0" src="
http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=
[articleURL]" style="margin-left:25%; padding-bottom:20px;"></iframe>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
