<!DOCTYPE html>
<html lang="en">
  <head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <title id="bclPageTitle">
      Video Report Sample
    </title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>

  <body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
        <div id="top" class="section">
        <h1>Samples: Video Report</h1>
        <p class="BCL-objective">This sample shows an Analytics API request for a report on videos for an account. The raw response data is included, along with some sample graphs created from parts of the data. The JavaScript code used to generate the sample graphs is at the bottom of page source code.</p>
          <p class="text-warning">Note: all samples are limited to a 12-hour timespan to limit the size of the returned data set.</p>
        </div>
        <div id="request" class="section">
        <h2><a name="request"></a>Request</h2>
        <p>Below is a request for summary metrics for a Video Cloud account for a specific time period (in this case, from <span class="startDate"></span> to <span class="endDate"></span>)</p>
<pre><code id="httpRequest"></code></pre>
        </div>
        <div id="response" class="section">
        <h2><a name="response"></a>JSON Response</h2>
        <p>Below is the data that was returned from the request above:</p>
          <pre><code id="jsonresponse"></code></pre>
        </div>
        <div id="sampleGraph" class="section">
          <h2><a name="sampleGraph"></a>Sample Graphs</h2>
          <p>Below you can see sample graphs generated from parts of the returned data. The graphs were created using the <a href="//www.flotcharts.org">Flot plotting library for jQuery</a>.</p>
          <p id="startDate" class="startDate"><strong>Start date:</strong> </p>
          <p id="endDate" class="endDate"><strong>End date:</strong> </p>
          <h3>Video Views</h3>
          <p>Number of video views per player</p>
          <div id="chartViews" style="width:800px;height:400px"></div>
          <div id="chartViewsLegend" style="padding:10px 20px;"></div>
          <h3>Video Engagement</h3>
          <p>Average views at % of video length</p>
          <div id="chartEngagement" style="width:800px;height:600px"></div>
          <div id="chartEngagementLegend" style="padding:10px 20px;"></div>
        </div>
        <div class="section" id="code">
          <h2><a name="code"></a>Code for this page</h2>
          <h3>JavaScript used for this sample:</h3>
<pre><code id="js_code"></code></pre>
        </div>
      </div>
  </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="/en/scripts/jquery.flot.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script src="/en/scripts/format_json.js"></script>
    <script src="/en/scripts/prefix.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script id="pageScript" type="text/javascript">
      /******** Any scripts specific to page samples should go here *********/
      $(document).ready(function(){
        var startDate = new Date(1362103200000).toString(),
        endDate = new Date(1362189600000).toString(),
        $startDate = $('.startDate'),
        $endDate = $('.endDate'),
        $httpRequest = $("#httpRequest"),
        request = "https://data.brightcove.com/analytics-api/videocloud/accounts/20318290001/report?dimensions=video&from=1362103200000&to=1362189600000",
        $response = $("#jsonresponse"),
        chartViews = "#chartViews",
        chartEngagement = "#chartEngagement",
        responseData = { "account":"20318290001", "item_count":83, "items":[ { "video_impression":1, "video_name":"TheAppCloudWorkshopApp", "video_view":1, "video_percent_viewed":99.99999999999999, "video_engagement_25":0.9999999999999964, "video_seconds_viewed":117, "video_engagement_50":1, "video":"1233893997001", "video_engagement_75":1, "video_engagement_100":1 }, { "video_impression":1, "video_name":"TheAppCloudStudioTemplatesSection", "video_view":0, "video_percent_viewed":0, "video_engagement_25":1, "video_seconds_viewed":0, "video_engagement_50":1, "video":"1251462870001", "video_engagement_75":1, "video_engagement_100":1 }, { "video_impression":2, "video_name":"GettingStartedwiththeAppCloudStudioContentSection", "video_view":2, "video_percent_viewed":43.506493506493506, "video_engagement_25":1, "video_seconds_viewed":67, "video_engagement_50":0, "video":"1251462871001", "video_engagement_75":0, "video_engagement_100":0 }, { "video_impression":109, "video_name":"QuickVideoPublishing", "video_view":10, "video_percent_viewed":706.6037735849056, "video_engagement_25":9, "video_seconds_viewed":749, "video_engagement_50":9, "video":"129226712001", "video_engagement_75":7, "video_engagement_100":5 }, { "video_impression":37, "video_name":"VideoCloudStudioAnalytics", "video_view":12, "video_percent_viewed":685.561497326203, "video_engagement_25":11, "video_seconds_viewed":1282, "video_engagement_50":7, "video":"129226713001", "video_engagement_75":8, "video_engagement_100":7 }, { "video_impression":15, "video_name":"CreatingaPlaylist", "video_view":3, "video_percent_viewed":195.3846153846154, "video_engagement_25":2, "video_seconds_viewed":254, "video_engagement_50":2, "video":"129231043001", "video_engagement_75":2, "video_engagement_100":1 }, { "video_impression":1, "video_name":"UsingTemplatestoCreateApps", "video_view":1, "video_percent_viewed":3.125, "video_engagement_25":1, "video_seconds_viewed":6, "video_engagement_50":1, "video":"1418831227001", "video_engagement_75":1, "video_engagement_100":0 }, { "video_impression":6, "video_name":"AppCloudPushNotifications", "video_view":1, "video_percent_viewed":40.23668639053254, "video_engagement_25":2, "video_seconds_viewed":68, "video_engagement_50":1, "video":"1482024659001", "video_engagement_75":1, "video_engagement_100":1 }, { "video_impression":126, "video_name":"PreparingtoPublishYouriOSApp", "video_view":13, "video_percent_viewed":879.1666666666667, "video_engagement_25":12, "video_seconds_viewed":3587, "video_engagement_50":11.715686274509778, "video":"1488679268001", "video_engagement_75":11.735294117647044, "video_engagement_100":9.999999999999986 }, { "video_impression":26, "video_name":"PreparingtoPublishYourAndroidApp", "video_view":2, "video_percent_viewed":208.44155844155836, "video_engagement_25":7, "video_seconds_viewed":321, "video_engagement_50":8, "video":"1488679269001", "video_engagement_75":4.999999999999972, "video_engagement_100":5 } ] };

        // make graph - depends on jquery.flot.js
        makeViewGraph = function(jsonObject,element,legendElement) {
          var options = {},plotData = {};
          options.legend = {"show": true,"container":legendElement};
          plotData.series = [];
          for (var i = 0; i < jsonObject.items.length; i++) {
            var series = {};
            series.data = [];
            series.label = jsonObject.items[i].video_name;
            series.xaxis = {"min":0};
            series.yaxis = {"min":0};
            series.bars = {
              "show": true,
              "barWidth": .5,
              "align": "left",
              "horizontal": false };
            series.data[i] = [i,jsonObject.items[i].video_view];
            plotData.series[i] = series;
          }
          var plot = $.plot(element,plotData.series,options);
        }
        makeEngagementGraph = function(jsonObject,element,legendElement) {
          var options = {},plotData = {};
          options.legend = {"show": true,"container":legendElement};
          plotData.series = [];
          for (var i = 0; i < jsonObject.items.length; i++) {
            var video = jsonObject.items[i];
            var series = {};
            // series.data = [];
            series.label = video.video_name;
            series.xaxis = {"min":0};
            series.yaxis = {"min":0};
            series.lines = {
              "show": true,
              };
            series.data = [[0,video.video_view],[25,video.video_engagement_25],[50,video.video_engagement_50],[75,video.video_engagement_75],[100,video.video_engagement_100]];
            plotData.series[i] = series;
          }
          var plot = $.plot(element,plotData.series,options);
        }
        $httpRequest.html(request);
        $response.html(BCLSformatJSON.formatJSON(responseData));
        $startDate.append(startDate);
        $endDate.append(endDate);
        // re-highlight pre-code blocks
        BCLSmain.BCLhighlight();
        makeViewGraph(responseData,chartViews,$("#chartViewsLegend"));
        makeEngagementGraph(responseData,chartEngagement,$("#chartEngagementLegend"));
      });
    </script>
    <script>
      $(document).ready(function(){
        $("#js_code").html(BCLSpreFix($("#pageScript").html()));
      });
    </script>
	    
    
	<iframe width="550" height="475" frameborder="0" src="
http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=
[articleURL]" style="margin-left:25%; padding-bottom:20px;"></iframe>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>
</html>
