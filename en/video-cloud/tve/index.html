<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>TVE Authentication</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/normalize.css" />
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/atelier-forest.light.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/vendor/modernizr.js"></script>
  </head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
<div id="top" class="section">
  <h1>TVE Authentication</h1>
<p>Version 1.1</p>
<p>This topic provides information on Video Cloud’s Smart Player integration with Adobe Pass for TV Everywhere (TVE) authentication solutions. The instructions below simplify data entry and management of video metadata by removing the unnecessary duplication of values and by automatically generating the XML request values needed by the Adobe Pass client based on individual custom fields.</p>
</div>
<div class="section" id="metadata">
    <h2>Metadata Setup</h2>
    <p>Before we look at implementation, there is some metadata setup you will need for your account, part of which Brightcove Support will do, and the rest you can do if you are an administrator for the account.</p>
</div>
<div class="section" id="accountSetup">
    <h2>Account Setup</h2>
    <p>The Video Cloud integration with Adobe Pass is configured at the account level. When activated, all videos within the account will require users authorization with Adobe Pass before allowing playback. The support team will also configure the account defaults for the Adobe Pass metadata. You cannot perform this part of the setup yourself.</p>
</div>
<div class="section" id="customFields">
    <h2>Custom Fields</h2>
    <p>For this integration you must add at least the first two of the following <a href="http://support.brightcove.com/en/video-cloud/docs/creating-custom-metadata-fields">custom fields</a> to your account. The names below are the <em>internal</em> names for the fields &mdash; you can use whatever you like for the display names.</p>
    <ul>
      <li><code>bcadobepassrequestorid</code> (required)</li>
      <li><code>bcadobepassresourceid</code> (required)</li>
      <li><code>bcadobepasstitle</code> (optional)</li>
      <li><code>bcadobepassreferenceid</code> (optional)</li>
      <li><code>bcadobepassrating</code> (optional)</li>
      <li><code>bcadobepassratingscheme</code> (optional)</li>
    </ul>
    <p>In addition, you may want to create the following optional </p>
</div>
<div class="section" id="autoGeneratation">
  <h2>Generation of fields</h2>
<p>When a user retrieves a video via the media API from a TVE-enabled account, the API will return a value for <code>bcadobepassrequestorid</code> according to the following rules:</p>
<ul>
  <li>If a custom field value for <code>bcadobepassrequestorid</code> exists on the video, the API will return that value.</li>
  <li>If no value is set for the <code>bcadobepassrequestorid</code> field, the API will return the requestor ID value stored in the account settings.</li>
</ul>
<p>When a user retrieves a video via the media API from a TVE-enabled account, the API will return a value for <code>bcadobepassresourceid</code> according to the following rules:</p>
<ul>
  <li>If a custom field value for <code>bcadobepassresourceid</code> exists on the video, the API will return that value</li>
  <li>If no value is set for the <code>bcadobepassresourceid</code> field, the API will return a calculated value based on the fields and XML format noted below.</li>
</ul>
<ol>
  <li>The generated <code>bcadobepassresourceid</code> field will follow the MRSS format specified by Adobe and used in almost all integrations with Comcast.</li>
</ol>
<pre><code>&lt;rss version='2.0' xmlns:media='<a href="http://search.yahoo.com/mrss/'">http://search.yahoo.com/mrss/'</a>&gt;
    &lt;channel&gt;
    &lt;title&gt;<strong><em>channel</em></strong>&lt;/title&gt;
    &lt;item&gt;&lt;title&gt;<strong><em>item-title</em></strong>&lt;/title&gt;
    &lt;guid&gt;<strong><em>guid</em></strong>&lt;/guid&gt;
    &lt;media:rating scheme='urn:<strong><em>rating-scheme</em></strong>'&gt;<strong><em>rating</em></strong>&lt;/media:rating&gt;&lt;/item&gt;
    &lt;/channel&gt;
&lt;/rss&gt;</code></pre>
</div>

<div class="section" id="MRSSvalues">
  <h2>Values in the MRSS</h2>
  <p>The values included in the MRSS will be based on the following rules.</p>
<table>
  <thead>
    <tr>
      <th align="left">XML Field</th>
      <th align="left">Video Cloud Field<th>
    </tr>
</thead>
  <tbody>
    <tr>
      <td>
        <p>channel</p>
      </td>
      <td>
        <p>If present, Video Cloud uses <code>bcadobepassrequestorid</code>.<span class="Apple-converted-space">&nbsp;</p>
        <p>If not present, Video Cloud uses the value set in the account settings.</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>item-title</p>
      </td>
      <td>
        <p>If present, Video Cloud uses <code>bcadobepasstitle</code>.</p>
        <p>If not present, Video Cloud uses the <code>name</code> field</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>guid</p>
      </td>
      <td>
        <p>If present, Video Cloud uses <code>bcadobepassreferenceid</code></p>
        <p>If not present, Video Cloud uses the <code>referenceid</code> field</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>rating</p>
      </td>
      <td>
        <p>If present, Video Cloud uses <code>bcadobepassrating</code></p>
        <p><code>rating</code> is sent only if both <code>bcadobepassrating</code> and <code>bcadobepassratingscheme</code> are present.</p>
      </td>
    </tr>
    <tr>
      <td>
        <p>rating-scheme</p>
      </td>
      <td>
        <p>If present, use <code>bcadobepassratingscheme</code></p>
        <p><code>rating-scheme</code> is sent only if both <code>bcadobepassrating</code> and <code>bcadobepassratingscheme</code> are present.</p>
        <p class="text-warning">Note: Currently, the only values in use are ‘v-chip’ or ‘mpaa’ but others may be used in the future.</p>
      </td>
    </tr>
  </tbody>
</table>
</div>
<div class="section" id="samples">
  <h2>Samples</h2>
<p>Here are some example values for TVE integration:</p>
<pre><code>&lt;rss version="2.0" xmlns:media="<a href="http://search.yahoo.com/mrss/">http://search.yahoo.com/mrss/</a>"&gt;
    &lt;channel&gt;
    &lt;title&gt;UBC&lt;/title&gt;
    &lt;item&gt;
        &lt;title&gt;Lost Domain&lt;/title&gt;
        &lt;guid&gt;TK_606_C3&lt;/guid&gt;
        &lt;media:rating scheme="urn:v-chip"&gt;TV-14&lt;/media:rating&gt;
    &lt;/item&gt;
    &lt;/channel&gt;
&lt;/rss&gt;</code></pre>
<pre><code>&lt;rss version="2.0" xmlns:media="<a href="http://search.yahoo.com/mrss/">http://search.yahoo.com/mrss/</a>"&gt;
    &lt;channel&gt;
        &lt;title&gt;UBC&lt;/title&gt;
        &lt;item&gt;&lt;title&gt;Welcome Back&lt;/title&gt;
        &lt;guid&gt;NOW503_Jun13&lt;/guid&gt;
        &lt;media:rating scheme="urn:v-chip"&gt;TV-14&lt;/media:rating&gt;
        &lt;/item&gt;
    &lt;/channel&gt;
&lt;/rss&gt;</code></pre>
      </div>
      <div class="section" id="implementation">
          <h2>Web SiteImplementation</h2>
          <p>To enable users to authenticate with Adobe Pass, you must integrate the Adobe Pass Access Enabler into your web page. Instructions on doing this are provided by Adobe. </p>
          <p>Details of the integration with the Smart Player will vary, but the basic logic is as follows:</p>
          <ol>
            <li>Enable the player to <a href="/en/video-cloud/smart-player-api/guides/quick-start.html">use the Smart Player API</a></li>
            <li>Listen for the <code>AUTH_NEEDED</code> event.</li>
            <li>The handler for this event should launch the Access Enabler. If the user successfully authenticates and is authorized to view the content, the Access Enabler will return an authentication token</li>
            <li>Use the <code>playWithToken()</code> method of the <a href="//docs.brightcove.com/en/video-cloud/smart-player-api/references/symbols/brightcove.api.modules.AuthModule.html#playWithToken">AUTH module</a> of the Smart Player API to play request</li>
          </ol>
      </div>
    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/foundation.min.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
  <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script type="text/javascript">
    /******** Any scripts specific to page samples should go here *********/
  </script>
    <div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
    <script>
	var feedbackMail = document.getElementById("feedbackMail");
	feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
	</script>
	</body>

</html>
