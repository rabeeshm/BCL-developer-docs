<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title>Logo Overlay Plugin</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-2728311-29', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
    <style type="text/css">
        iframe,
        video,
        .video-js {
            width: 600px;
            height: 338px;
        }
    </style>
    <!-- <link rel="stylesheet" href="./assets/logo-overlay-plugin/logo-overlay.css"> -->
</head>

<body>
    <!-- header navbar -->
    <div id="navWrapper" class="fixed"></div>
    <!-- breadcrumbs -->
    <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
    <!-- search -->
    <div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div id="top" class="section">
                <h1>Logo Overlay Plugin</h1>
                <!-- Place document intro sentence(s) here -->
                <p>This topic covers the use of a logo-overlay plugin that uses the standard Overlay plugin to display a logo-overlay for videos, with an optional click-through URL.</p>
                <p>The plugin can be used to display any web-ready image overlay on top of the player. You can control the display of the message based on:</p>
                <ul>
                    <li>Player events - such as <code>play</code>, <code>pause</code> or custom events</li>
                    <li>Time interval - at a specified time during video playback</li>
                </ul>
                <p>The sample video below demonstrates the use of the logo overlay plugin to display a video logo-overlay. In this sample, the logo is displayed immediately, then fades out after 5 seconds.</p>
                <p class="BCL-aside">Note: currently, the CMS and Playback APIs do not return information about logo overlays added to videos using the old Studio or Media API, so we will simply use an image posted to a public URL.</p>
                <iframe src="//players.brightcove.net/1752604059001/N1Asjajhx_default/index.html?videoId=4511351172001" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
                <!-- <video id="video_1" data-video-id="4511351172001" data-account="1752604059001" data-player="N1Asjajhx" data-embed="default" class="video-js" controls></video>
                <script src="//players.brightcove.net/1752604059001/N1Asjajhx_default/index.min.js"></script> -->
                <p>This topic contains the following sections:</p>
                <ul>
                    <li><a href="#playersmodule">Adding the Overlay plugin using Players module</a></li>
                    <li><a href="#implementcode">Add the CSS and JavaScript code for the logo-overlay plugin, along with options.</a></li>

                </ul>
            </div>
            <div id="playersmodule" class="section">
                <h2>Add the Overlay plugin</h2>
                <p>To implement the Overlay Plugin using the Players module, follow these steps:</p>
                <ol>
                    <li>Open the <strong>Players</strong> module and create or locate the player you want to use</li>
                    <li>Click the link for the player to open the player properties.</li>
                    <li>Locate the <strong>Plugins</strong> section and click <strong>Edit</strong>.</li>
                    <li>The JavaScript for the plugin is provided and will not change for different plugin implementations. For the <strong>JavaScript URL</strong>, enter:
                        <pre><code>//players.brightcove.net/videojs-overlay/1/videojs-overlay.min.js</code></pre></li>
                    <li>There is also a standard CSS file for the Overlay plugin, but do <strong>not</strong> enter it. Instead, we'll provide custom CSS for Overlay along with logo-overlay plugin later.</li>
                    <li>Click <strong>Save</strong> and then <strong>Publish</strong> the player.</li>
                </ol>
            </div>
            <div id="implementcode" class="section">
                <h2>Implement using code</h2>
                <p>To implement the plugin using custom code, you will configure the following plugin properties:</p>
                <ul>
                    <li><code>scripts</code> - JavaScript supplied for the plugin and will not change for different plugin implementations</li>
                    <li><code>stylesheets </code>- CSS supplied to you for the plugin and will not change for different plugin implementations</li>
                    <li><code>plugin name</code> - here it will be <strong>logoOverlay</strong></li>
                    <li><code>plugin options</code> - Contains an array of properties and values</li>
                </ul>
                <p>To add the plugin to your code, follow these steps:</p>
                <ol>
                    <li>Save the following CSS code as a <code>.css</code> file and post it to a web server so that it has a public URL:
                    <script src="https://gist.github.com/6138da74feebd4251d66.js"></script>
                    <p class="BCL-aside">Note: this is a modified version of the standard CSS for the Overlay plugin.</p>
                    </li>
                    <li>Save the following JavaScript code as a <code>.js</code> file and post it to a web server so that it has a public URL:
                    <script src="https://gist.github.com/bd1ccb9756430a13f58b.js"></script>
                    </li>
                    <li>Return to the Players module in Studio and open the player you are using.</li>
                    <li>Edit the plugins section, adding the URLs for the CSS and JavaScript files you just created.</li>
                    <li>In the Options, add a new item with <code>logoOverlay</code> as the name, the following JSON for the options:
                    <script src="https://gist.github.com/bd7216f078bf3a4a9b26.js"></script>
                    </li>
                    <li>Save changes and republish the player (note that changes may not appear in the published player for a few minutes).</li>
                </ol>
                <h3>Notes on the code</h3>
                <ul>
                    <li>To simplify things for those just wishing to use the Overlay to display a logo-overlay, the plugin takes as options:
                        <ol>
                            <li><code>align</code>: how to align the logo (default: bottom-right)</li>
                            <li><code>imageURL</code>: URL for the logo image (note that the actual image dimensions are used, so your image should be an appropriate size for a logo-overlay)</li>
                            <li><code>clickThruURL</code>: a click-through URL (optional)</li>
                            <li><code>start</code>: the event or time in seconds to start the display (default: <code>loadstart</code>)</li>
                            <li><code>end</code>: the event or time in seconds to end the display (default: <code>ended</code>) - note that if a time is specified, the logo will begin to fade out at that point.</li>
                        </ol>
                    </li>
                    <li>The JavaScript merges the plugin options with default values, and uses the resulting values to construct options for the Overlay plugin.</li>
                    <li>The plugin then activates the Overlay plugin with the options.</li>
                    <li>The plugin sets up an event listener for <code>timeupdate</code> events, and if a end time is specified for the logo display, adds the <code>bcls-hide-overlay</code> class to the overlay at that point.</li>
                </ul>
            </div>
            <div class="section" id="BCLreferences">
                <h2>Related Topics</h2>
                <ul>
                    <li> <a href="plugin-dev-quick-start.html#passdatatoplugin">Quick Start to Plugin Development</a>
                    </li>
                    <li> <a href="../../player-management/getting-started/player-mgmt-quick-start.html#customizePlayer">Quick Start to Player Management - Plugin Section</a>
                    </li>
                    <li> <a href="plugin-guide.html">Plugin Guide</a>
                    </li>
                    <li class="video-cloud-only"> <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/mediainfo.html">Video Metadata</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.0/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site-v1.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
    <!-- <script type="text/javascript">
    var inputOptions = {
            align: 'bottom-right',
            imageURL : '//docs.brightcove.com/en/video-cloud/brightcove-player/samples/assets/logo-overlay-plugin/bc-logo.png',
            clickThruURL: '//docs.brightcove.com/en/index.html',
            start: 'loadstart',
            end: 5
        };

        videojs.plugin('logoOverlay', function(options) {
            var player = this,
                overlayOptions,
                overlayContent,
                defaultOptions = {
                    align: 'bottom-right',
                    imageURL : '//docs.brightcove.com/en/video-cloud/brightcove-player/samples/assets/logo-overlay-plugin/bc-logo.png',
                    clickThruURL: '',
                    start: 'loadstart',
                    end: 'ended'
                };
            console.log('options', options);
            function endOverlay() {
                if (isDefined(parseInt(overlayOptions.end)) && player.currentTime() >= overlayOptions.end) {
                    player.off('timeupdate', endOverlay);
                    document.getElementsByClassName('vjs-overlay')[0].className += ' bcls-hide-overlay';
                }
            }

            function showOverlay(startValue) {
                // console.log('in show overlay');
                // add the overlay
                player.overlay(
                    {
                        content: overlayContent,
                        overlays: [
                            {
                                start: startValue,
                                align: overlayOptions.align
                            }
                        ]
                    }
                );
                // handler for timeupdate events
                player.on('timeupdate', endOverlay);
            }

            /**
             * tests for all the ways a variable might be undefined or not have a value
             * @param {*} x the variable to test
             * @return {Boolean} true if variable is defined and has a value
             */
            function isDefined(x) {
                if ( x === '' || x === null || x === undefined || x === NaN) {
                    return false;
                }
                return true;
            }

            /**
             * populates a settings object from inputs or default values
             * @param {Object} inputOptions the input values
             * @param {Object} defaultOptions the default values
             * @return {Object} the settings object
             */
            function setOptions (inputOptions, defaultOptions) {
                var prop, settings = {};
                for (prop in defaultOptions) {
                    if (defaultOptions.hasOwnProperty(prop)) {
                        settings[prop] = (inputOptions.hasOwnProperty(prop)) ? inputOptions[prop] : defaultOptions[prop];
                    }
                }
                return settings;
            }
            // override default settings with optoins
            overlayOptions = setOptions(options, defaultOptions);
            // console.log('overlayOptions', overlayOptions);
            // set the content
            if (isDefined(overlayOptions.clickThruURL)) {
                overlayContent = '<a href="' + overlayOptions.clickThruURL + '"><img src="' + overlayOptions.imageURL + '" /></a>';
            } else {
                overlayContent = '<img src="' + overlayOptions.imageURL + '" />';
            }
            // show the overlay
            showOverlay(overlayOptions.start);

        });
        videojs('video_1').logoOverlay(inputOptions);
    </script> -->


<div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
</div>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
