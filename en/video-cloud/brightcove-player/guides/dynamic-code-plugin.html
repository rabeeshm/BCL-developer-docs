img<!DOCTYPE html>
<html lang="en">

<head>
	
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title>Dynamic Code Plugin</title>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
	<script src="//use.edgefonts.net/source-code-pro.js"></script>
	<link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<div id="top" class="section">
				<h1>Dynamic Code Plugin</h1>
				<!-- Place document intro sentence(s) here -->
				<p>This guide shows you how to create a bootstrap plugin which adds functionality and styles at runtime.</p> 
        <p>A typical use case for this dynamic code plugin would be if you or a partner maintains a JavaScript library and you want all players using this library to automatically update when the library changes without having to republish the players.</p>
        <p>To allow the Brightcove player to load quickly, all the plugin code associated with the player is included with the player. If you don't want to replublish your players to get a plugin update, you can use the dynamic code plugin to load specified JavaScript and CSS files at runtime.</p>
        <div><img src="assets/dynamic-code-plugin/dynamic-code-plugin.png" alt="dynamic-code-plugin" title="dynamic-code-plugin"></div>
        <p>You will implement this example by following these steps:</p>
        <ol>
          <li>Add the overlay1 plugin to the player. This could contain some base functionality for your player.</li>
          <li>Add the dynamic code plugin which will load additional JavaScript and CSS at runtime.</li>
          <li>Use the dynamic code plugin to dynamically load the overlay2 plugin.</li>
        </ol>
      </div>
				
      <div id="getstarted" class="section">
        <h2>Get started</h2>
        <p>Create your Brightcove player using Video Cloud Studio. There you can quickly create a player, associate a video and publish the player. For details, see the <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/getting-started/quick-start-bc-player.html">Quick Start to Brightcove player</a> document.</p>
        <p>After you have published the player, copy the <strong>In-Page Embed Code</strong> for the published player. It should look something like this:</p>

        <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="19-26"></code></p>
        <p class="BCL-aside">Notice that we have added an <code>id</code> attribute so that we can get a reference to the player in later steps.</p>
        <p>Next, you will use the embed-in-page implementation to test that the plugins are working. Then, you will switch to the iframe implementation.</p>
      </div>
      
      <div id="overlay1plugin" class="section">
        <h2>Overlay1 plugin</h2>
        <p>With the embed-in-page implementation, you will first add the <code>overlay1</code> plugin to your player. This could be the base functionality that you have added to your player. You should place this in an internet accessible URL.</p>
        
        <h3>The JavaScript code</h3>
        <p>Here is the JavaScript code for the <code>overlay1</code> plugin.</p>
        <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="55-61"></code></p>
        
        <h3>The stylesheet</h3>
        <p>This example uses styles for the <code>overlay1</code> text box.</p>
        <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="65-74"></code></p>
        
        <h3>The HTML code</h3>
        <p>Add the following HTML to your page code.</p>
        <ol>
          <p><li>For the <code>overlay1</code> plugin, add a link to the CSS file and include the JavaScript file .</li></p>
          <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="1-29" data-gist-highlight-line="7,29"></code></p>
          <p><li>After the code above, add a <code>script</code> section as follows:</li></p>
          <ul>
            <li>Line 37: Waits for your player to load.</li>
            <li>Line 38: Gets a reference to your player.</li>
            <li>Line 40: Initializes the <code>overlay1</code> plugin.</li>
          </ul>
          <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="34-40,46-48"></code></p>
        </ol>
        <p>When you run this code in the browser, you should see the first plugin text displayed.</p>
        <div><img src="assets/dynamic-code-plugin/overlay1-plugin.png" alt="overlay1-plugin" title="overlay1-plugin"></div>
      </div>
        
      <div id="dynamiccodeplugin" class="section">
        <h2>Dynamic code plugin</h2>
        <p>Now, you are ready to add the dynamic code plugin to the player. This will allow you or a partner to add JavaScript and CSS to your player at runtime without having to republish the player.</p>
        
        <h3>The JavaScript code</h3>
        <p>Here is the JavaScript code which will load your dynamic code and styles at runtime.</p>
        <ul>
          <li>Line 85: Gets a reference to the player.</li>
          <li>Lines 91,93: Dynamically create a <code>&lt;script&gt;</code> and a <code>&lt;link&gt;</code> element in your HTML code.</li>
          <li>Line 96: Sets a flag so that the script load handler is only excuted once.</li>
          <li>Lines 100-109: Define the <code>script.onload()</code> handler function to call the <code>init()</code> function when the runtime resources have been downloaded.</li>
          <li>Lines 114,118: Define the URL to the custom JavaScript and CSS files to be loaded dynamically.</li>
          <li>Lines 120-121: Add attributes and values you just defined to the Define the URL to the <code>&lt;script&gt;</code> and a <code>&lt;link&gt;</code> elements.</li>
          <li>Line 125: Initializes the plugin with your dynamic code and styles. You will add this <code>secondPlugin</code> code to your HTML in the next section.</li>
        </ul>
        <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="78-127"></code></p>
      </div>
        
      <div id="overlay1plugin" class="section">
        <h2>Overlay2 plugin</h2>
        <p>This section shows you how to easily add JavaScript functionality and custom styles to your player at runtime.</p>
        <h3>The JavaScript code</h3>
        <p>This <code>overlay2</code> plugin contains any JavaScript code that you want to load at runtime. In this example, it will create another text box overlay in the player, below the first.</p>
        <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="131-137"></code></p>
        
        <h3>The stylesheet</h3>
        <p>This example uses styles for the <code>overlay2</code> text box.</p>
        <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="141-150"></code></p>
    
        <h3>The HTML code</h3>
        <p>Add the following HTML to your page code.</p>
        <ol>
          <p><li>Include the JavaScript file for the <code>dynamicCode</code> plugin.</li></p>
          <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="19-32" data-gist-highlight-line="31"></code></p>
          <p><li>Add code to the <code>script</code> section as follows:</li></p>
          <ul>
            <li>Lines 42-45: Initialize the <code>dynamicCode</code> plugin to add the specified styles and JavaScript code at runtime.</li>
          </ul>
          <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="34-48" data-gist-highlight-line="42-45"></code></p>
        </ol>
        <p>When you run this code in the browser, you should see the additional text box displayed in the player along with the original plugin text box.</p>
        <div><img src="assets/dynamic-code-plugin/overlay2-plugin.png" alt="overlay2-plugin" title="overlay2-plugin"></div>
          
      </div>
      
      <div id="iframe" class="section">
        <h2>Use iframe</h2>
        <p>With the iframe implementation, you will use Video Cloud Studio to add plugins and options to your player instead of doing it in the page code. Follow these steps to add the plugins:</p>
        <ol>
          <li><p>Return to the Brightcove player that you created earlier using Video Cloud Studio.</p></li>
          <li><p>Scroll down to the <strong>Plugins</strong> section and select the edit button for this section.</p></li>
          <li><p>Expand the <strong>JavaScript</strong> section and enter the URL for the <code>overlay1</code> and the <code>dynamicCode</code> plugins which you placed in an internet accessible URL earlier.</p></li>
          <div><img src="assets/dynamic-code-plugin/studio-javascript.png" alt="studio-javascript" title="studio-javascript"></div>
          <li><p>Expand the <strong>CSS</strong> section and enter the URL for the stylesheet associated with the <code>overlay1</code> plugin.</p></li>
          <div><img src="assets/dynamic-code-plugin/studio-css.png" alt="studio-css" title="studio-css"></div>
          <li><p>Expand the <strong>Name, Options (JSON)</strong> section.</p></li>
          <li><p>Enter the value <code>overlay1</code> for the name of the first overlay plugin.</p></li>
          <li><p>Enter the value <code>dynamicCode</code> for the name of the dynamic code loader plugin. Also, enter the <code>stylesheetURL</code> and <code>scriptURL</code> plugin options with their respective URL values. </p></li>
          <div><img src="assets/dynamic-code-plugin/studio-plugin-names.png" alt="studio-plugin-names" title="studio-plugin-names"></div>
          <li><p>Select the <strong>Save</strong> button for the <strong>Plugins</strong> section.</p></li>
          <li><p>You can either test with the preview version of the player, or you can publish the player. For this guide, let's publish the player. Select the <strong>Publish</strong> button at the top.</p></li>
          <li><p>Expand the <strong>Embed Code & URL</strong> button and copy the <strong>iframe Embed Code</strong> for the published player.</p></li>
          <li><p>Paste the iframe code into your page code and run it in the browser. You should be able to see both overlays in the player.</p></li>   
        </ol>
        <p>Your page code should look something like this:</p>
        <p><code data-gist-id="869b1ca879e55a5c9c12" data-gist-hide-footer="true" data-gist-line="154-172"></code></p>   
        <p>Now, you have successfully set up your player to dynamically load the JavaScript and Styles for the second overlay at runtime.</p>
        <p>See how it works by changing the background color in the <code>overlay2-plugin.css</code> file to black. </p>
        <p>There is no need to republish the player. Simply refresh the browser with the iframe implementation and you should see the new style applied to the second overlay.</p>
        <div><img src="assets/dynamic-code-plugin/overlay2-plugin-black.png" alt="overlay2-plugin-black" title="overlay2-plugin-black"></div>
			</div>
			
			<div class="section" id="BCLreferences">
				<h2>Related Topics</h2>
				<ul>
					<li> <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/plugin-dev-quick-start.html#passdatatoplugin">Quick Start to Plugin Development</a>
					</li>
					<li> <a href="//docs.brightcove.com/en/video-cloud/player-management/getting-started/player-mgmt-quick-start.html#customizePlayer">Quick Start to Player Management - Plugin Section</a>
					</li>
					<li> <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/plugin-guide.html">Player Plugin Overview</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<!-- bcl scripts -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.0/fastclick.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
	<script src="/en/scripts/log.js"></script>
	<script src="/en/scripts/docs-nav-data.min.js"></script>
	<script src="/en/scripts/bcls-doc-site-v1.js"></script>
	<script src="/en/scripts/bc-mapi.js"></script>
	<script>
		$(document).foundation();
	</script>
	<script type="text/javascript">
		/******** Any scripts specific to page samples should go here *********/
	</script>
	
    
<div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
</div>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>