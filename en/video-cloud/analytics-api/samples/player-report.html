<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title id="bclPageTitle">
      Player Report Sample
    </title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>
  <body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
          <div id="top" class="section">
            <h1 id="bclPageHeading">Samples: Player Report</h1>
          <p class="BCL-objective">This sample shows an Analytics API request for report on players for an account. The raw response data is included, along with some sample graphs created from parts of the data. The JavaScript code used to generate the sample graphs is at the bottom of page source code.</p><!--break-->
        </div>
        <div id="request" class="section">
        <h2><a name="request"></a>Request</h2>
        <p>Below is a request for summary metrics for a Video Cloud account for a specific time period (in this case, from <span class="startDate"></span> to <span class="endDate"></span>)</p>
<pre><code id="httpRequest"></code></pre>
        </div>
        <div id="response" class="section">
        <h2><a name="response"></a>JSON Response</h2>
        <p>Below is the data that was returned from the request above:</p>
          <pre><code id="jsonresponse"></code></pre>
        </div>
        <div id="sampleGraph" class="section">
          <h2><a name="sampleGraph"></a>Sample Graphs</h2>
          <p>Below you can see sample graphs generated from parts of the returned data. The graphs were created using the <a href="//www.flotcharts.org">Flot plotting library for jQuery</a>.</p>
          <p id="startDate" class="startDate"><strong>Start date:</strong> </p>
          <p id="endDate" class="endDate"><strong>End date:</strong> </p>
          <h3>Video Views</h3>
          <p>Number of video views per player</p>
          <div id="chartViews" style="width:800px;height:400px"></div>
          <div id="chartViewsLegend" style="padding:10px 20px;"></div>
          <h3>Video Engagement</h3>
          <p>Average views at % of video length</p>
          <div id="chartEngagement" style="width:800px;height:600px"></div>
          <div id="chartEngagementLegend" style="padding:10px 20px;"></div>
        </div>
        <div class="section" id="code">
          <h2><a name="code"></a>Code for this page</h2>
          <h3>JavaScript used for this sample:</h3>
<pre><code id="js_code"></code></pre>
        </div>
      </div>
    </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="/en/scripts/jquery.flot.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site-v1.js"></script>
    <script src="/en/scripts/format_json.js"></script>
    <script src="/en/scripts/prefix.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script id="pageScript" type="text/javascript">
      /******** Any scripts specific to page samples should go here *********/
        $(document).ready(function(){
        var startDate = new Date(1357740000000).toString(),
        endDate = new Date(1357783200000).toString(),
        $startDate = $('.startDate'),
        $endDate = $('.endDate'),
        $httpRequest = $("#httpRequest"),
        request = "https://data.brightcove.com/analytics-api/videocloud/accounts/20318290001/report?dimensions=player&from=1357740000000&to=1357783200000",
        $response = $("#jsonresponse"),
        chartViews = "#chartViews",
        chartEngagement = "#chartEngagement",
        responseData = {"account" : "20318290001", "item_count" : 11, "items" : [{"player" : "1039236672001", "player_name" : "EN SingleVideoPlayer for Video Cloud Doc Pages", "player_load" : 657, "video_view" : 136, "video_percent_viewed" : 9398.647043180148, "video_engagement_25" : 243.06417112299465, "video_seconds_viewed" : 12975, "video_engagement_50" : 217.9803921568627, "video_engagement_75" : 188.3361197342837, "video_engagement_100" : 79.0637149864032, "video_impression" : 670 }, {"player" : "1134499652001", "player_name" : "Video Training Viral Player", "player_load" : 79, "video_view" : 61, "video_percent_viewed" : 3859.3727361476153, "video_engagement_25" : 50.24752475247526, "video_seconds_viewed" : 4875, "video_engagement_50" : 50, "video_engagement_75" : 39.000000000000014, "video_engagement_100" : 5.2523252325232335, "video_impression" : 67 }, {"player" : "1146579461001", "player_name" : "EN Training Video Page Player Sept 2011", "player_load" : 0, "video_view" : 0, "video_percent_viewed" : 0, "video_engagement_25" : 1, "video_seconds_viewed" : 0, "video_engagement_50" : 0, "video_engagement_75" : 0, "video_engagement_100" : 0, "video_impression" : 0 }, {"player" : "1233940331001", "player_name" : "App Cloud Player", "player_load" : 1, "video_view" : 1, "video_percent_viewed" : 0.8810572687224669, "video_engagement_25" : 1, "video_seconds_viewed" : 2, "video_engagement_50" : 1, "video_engagement_75" : 1, "video_engagement_100" : 0, "video_impression" : 1 }, {"player" : "1482015250001", "player_name" : "EN SingleVideoPlayer for App Cloud Doc Pages", "player_load" : 69, "video_view" : 19, "video_percent_viewed" : 943.8365300379726, "video_engagement_25" : 42.47058823529412, "video_seconds_viewed" : 2961, "video_engagement_50" : 32.75490196078429, "video_engagement_75" : 27.999999999999986, "video_engagement_100" : 13.2035905271199, "video_impression" : 71 }, {"player" : "1922430209001", "player_name" : "Support Training Videos Section Player", "player_load" : 150, "video_view" : 104, "video_percent_viewed" : 8075.4044146597225, "video_engagement_25" : 248, "video_seconds_viewed" : 12233, "video_engagement_50" : 227.18730650154797, "video_engagement_75" : 190.41860465116275, "video_engagement_100" : 88.04283654307669, "video_impression" : 161 }, {"player" : "1990588098001", "player_name" : "Learning Resources App Player", "player_load" : 4, "video_view" : 0, "video_percent_viewed" : 0, "video_engagement_25" : 0, "video_seconds_viewed" : 0, "video_engagement_50" : 0, "video_engagement_75" : 0, "video_engagement_100" : 0, "video_impression" : 4 }, {"player" : "2073205000001", "player_name" : "Video Cloud Essentials Player", "player_load" : 5, "video_view" : 4, "video_percent_viewed" : 173.9495798319328, "video_engagement_25" : 2, "video_seconds_viewed" : 102, "video_engagement_50" : 2, "video_engagement_75" : 2, "video_engagement_100" : 0, "video_impression" : 7 }, {"player" : "2081645594001", "player_name" : "Player for VOD Training Courses", "player_load" : 75, "video_view" : 14, "video_percent_viewed" : 257.4790455780487, "video_engagement_25" : 56, "video_seconds_viewed" : 210, "video_engagement_50" : 53, "video_engagement_75" : 51.99999999999996, "video_engagement_100" : 5.945393491607518, "video_impression" : 85 }, {"player" : "590009480001", "player_name" : "EN Chromeless Single Training Video Player", "player_load" : 34, "video_view" : 8, "video_percent_viewed" : 503.20302433108463, "video_engagement_25" : 13, "video_seconds_viewed" : 452, "video_engagement_50" : 8, "video_engagement_75" : 7, "video_engagement_100" : 4, "video_impression" : 33 } ] };
        // make graph - depends on jquery.flot.js
        makeViewGraph = function(jsonObject,element,legendElement) {
          var options = {},plotData = {};
          options.legend = {"show": true,"container":legendElement};
          plotData.series = [];
          for (var i = 0; i < jsonObject.items.length; i++) {
            var series = {};
            series.data = [];
            series.label = jsonObject.items[i].player_name;
            series.xaxis = {"min":0};
            series.yaxis = {"min":0};
            series.bars = {
              "show": true,
              "barWidth": .5,
              "align": "left",
              "horizontal": false };
            series.data[i] = [i,jsonObject.items[i].video_view];
            plotData.series[i] = series;
          }
          var plot = $.plot(element,plotData.series,options);
        }
        makeEngagementGraph = function(jsonObject,element,legendElement) {
          var options = {},plotData = {};
          options.legend = {"show": true,"container":legendElement};
          plotData.series = [];
          for (var i = 0; i < jsonObject.items.length; i++) {
            var player = jsonObject.items[i];
            var series = {};
            // series.data = [];
            series.label = player.player_name;
            series.xaxis = {"min":0};
            series.yaxis = {"min":0};
            series.lines = {
              "show": true,
              };
            series.data = [[0,player.video_view],[25,player.video_engagement_25],[50,player.video_engagement_50],[75,player.video_engagement_75],[100,player.video_engagement_100]];
            plotData.series[i] = series;
          }
          var plot = $.plot(element,plotData.series,options);
        }
        $httpRequest.html(request);
        $response.html(BCLSformatJSON.formatJSON(responseData));
        $startDate.append(startDate);
        $endDate.append(endDate);
        // re-highlight pre-code blocks
        BCLSmain.BCLhighlight();
        makeViewGraph(responseData,chartViews,$("#chartViewsLegend"));
        makeEngagementGraph(responseData,chartEngagement,$("#chartEngagementLegend"));
      });
    </script>
    <script>
      $(document).ready(function(){
        $("#js_code").html(BCLSpreFix($("#pageScript").html()));
      });
    </script>
    <script>
        $(document).foundation();
    </script>
	    
    
	<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>
</html>
