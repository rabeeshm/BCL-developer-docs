<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title>Images and the Dynamic Ingest API</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
    <!-- header navbar -->
    <div id="navWrapper" class="fixed"></div>
    <!-- breadcrumbs -->
    <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
    <!-- search -->
    <div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div id="top" class="section">
                <h1>Images and the Dynamic Ingest API</h1>
                <p>There are two different ways to add poster and thumbnail images to your videos using the Dynamic Ingest API:</p>
                <ul>
                    <li>Capture images at the mid-point of the video during transcoding</li>
                    <li>Ingest your own images, either at the same time you ingest the video, or separately</li>
                </ul>
                <p>This topic explains how to capture or ingest images.</p>
            </div>
            <div class="section" id="setup">
                <h2>Setup</h2>
                <p>The setup for Dynamic Ingest requests is the same, whether you are ingesting a video, images, a WebVTT file, or all of these:</p>
                <dl>
                    <dt>Request URL</dt>
                    <dd>
<pre><code>https://ingest.api.brightcove.com/v1/accounts/{account_id}/videos/{video_id}/ingest-requests</code></pre>
                    </dd>
                    <dt>Authentication</dt>
                    <dd>Authentication requires an access token passed as a <code>Bearer</code> token in an <code>Authorization</code> header:
<pre><code>Authorization: Bearer {access_token}</code></pre>
                    </dd>
                </dl>
            </div>
            <div class="section" id="s3">
                <h2>Note on S3</h2>
                <p>If your images will be pulled from a protected S3 bucket, you will need to set a bucket policy to allow Video Cloud to access the files. See <a href="di-s3.html#setPolicy">Using Dyanamic Ingest with S3</a> for details.</p>
            </div>
            <div class="section" id="capture-images">
                <h2>Capture images</h2>
                <p>During transcoding, Video Cloud can capture a snapshot from the video at the midpoint and save this as poster (video still) and thumbnail images.</p>
                    <p class="BCL-aside">Note: The number of poster and thumbnail created by the Dynamic Ingest is one for each. You cannot create more than one poster and thumbnail renditions even if you have more than one image renditions in the profile. This fact is not clearly mentioned in the documentation.</p>
                    <p>For custom renditions, image capture requires that two special renditions be added to the ingest profile that you are using. The new renditions must have the following properties:</p>
                    <table>
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>media_type</code></td>
                                <td>"image"</td>
                            </tr>
                            <tr>
                                <td><code>label</code></td>
                                <td>"poster" or "thumbnail" (you need a rendition for each)</td>
                            </tr>
                            <tr>
                                <td><code>format</code></td>
                                <td>"png" or "jpg"</td>
                            </tr>
                            <tr>
                                <td><code>width</code></td>
                                <td>number (pixels)</td>
                            </tr>
                            <tr>
                                <td><code>height</code></td>
                                <td>number (pixels)</td>
                            </tr>
                        </tbody>
                    </table>
                    <p>Here is sample data for the two renditions:</p>
<pre><code>{
    "height": 360,
    "label": "poster",
    "width": 480,
    "media_type": "image",
    "format": "png"
},
{
    "height": 90,
    "label": "thumbnail",
    "width": 160,
    "media_type": "image",
    "format": "png"
}</code></pre>
                    <p class="BCL-aside">Note: you can specify png or jpg as the format - currently captured images are always output as jpg images.</p>
                    <p>It is recommended that you use <strong>exactly</strong> these values if you are still using Smart Players. If you have migrated to the new Brightcove Player, you can adjust width and height values to match your players.</p>
                    <p>You should also set the <code>capture-images</code> flag in your request data to <code>true</code>, but this is the default value <em>if</em> the selected profile includes image renditions. (If there are no image renditions in the profile, the default for <code>capture-images</code> is <code>false</code>.)</p>
                    <h4>Sample request data:</h4>
<pre><code>{
  "master": { "url": "http://learning-services-media.brightcove.com/videos/mp4/Bird_Titmouse.mp4" },
  "profile": "high-resolution",
  "capture-images": true
}</code></pre>
            </div>
            <div class="section" id="ingest_images">
                <h2>Ingest images</h2>
                <p>You can also include a custom poster and thumbnail for your video (or add them) by referencing their URLs in the JSON you use for the Dynamic Ingest request body:</p>
<pre><code>{
    "poster": {
        "url": "http://learning-services-media.brightcove.com/images/for_video/Water-In-Motion-poster.png",
        "width": 640,
        "height": 360
    },
    "thumbnail": {
        "url": "http://learning-services-media.brightcove.com/images/for_video/Water-In-Motion-thumbnail.png",
        "width": 160,
        "height": 90
    }
}</code></pre>
                <div class="BCL-aside">
                    <p>Notes:</p>
                    <ul>
                        <li>For images, only unprotected HTTP/HTTPS URLs or signed S3 URLs are currently supported</li>
                        <li>The poster and thumbnail can be included with the ingestion of a <code>master</code>, or separately</li>
                        <li>If you are uploading your own poster and thumbnail images along with a video master, and the ingest profile you are using includes image renditions, you should set <code>capture-images</code> to <code>false</code>:
<pre><code>{
  "master": { "url": "http://learning-services-media.brightcove.com/videos/mp4/Bird_Titmouse.mp4" },
  "profile": "high-resolution",
  "poster": {
      "url": "http://learning-services-media.brightcove.com/images/for_video/titmouse-poster.png",
      "width": 640,
      "height": 360
  },
  "thumbnail": {
      "url": "http://learning-services-media.brightcove.com/images/for_video/titmouse-thumbnail.png",
      "width": 160,
      "height": 90
  }
  "capture-images": false
}</code></pre>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="section" id="BCLreferences">
                <h2>Related Topics</h2>
                <ul>
                    <li><a href="//docs.brightcove.com/en/video-cloud/di-api/getting-started/overview-di.html">Dynamic Ingest API Overview</a></li>
                    <li><a href="//docs.brightcove.com/en/video-cloud/di-api/getting-started/quick-start-di.html">Quick Start to Dynamic Ingest</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site-v1.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script type="text/javascript">
        /******** Any scripts specific to page samples should go here *********/
    </script>


<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>

    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));

</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
