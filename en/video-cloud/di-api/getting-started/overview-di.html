<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title>Dynamic Ingest API Overview</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-2728311-29', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
    <!-- header navbar -->
    <div id="navWrapper" class="fixed"></div>
    <!-- breadcrumbs -->
    <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
    <!-- search -->
    <div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div id="top" class="section">
                <h1>Dynamic Ingest API Overview</h1>
                <p>Brightcove's Dynamic Ingest (DI) API is based on functionality where video source files are downloaded from the customer's storage location and specified renditions of the source files are created. The platform is cloud-centric, globally-distributed and based on modern practices to deliver best in class consistency and speed.</p>
                <p>Strengths of the DI API are:</p>
                <ul>
                    <li>
                        <strong>Predictability</strong>: Queue time and end-to-end processing time is determinate.</li>
                    <li>
                        <strong>Speed</strong>: Brightcove's transcoding solution provides superior speed and scalability.</li>
                    <li>
                        <strong>Features</strong>: Input format support, 99.9% transcoding success rate and a simplified usage workflow are just a few of the API's advantages.</li>
                    <li>
                        <strong>Insight</strong>: Notifications when videos are available for playback are provided.</li>
                </ul>
            </div>
            <div id="workflowoverview" class="section">
                <h2>Workflow overview</h2>
                <p>A number of systems/technologies are used in the overall transcoding and storage of media. They are:</p>
                <ul>
                    <li>
                        <strong>Content Management System (CMS) API</strong>: Creates a video object for use in the DI API</li>
                    <li>
                        <strong>Zencoder</strong>: Transcodes the video creating multiple renditions</li>
                    <li>
                        <strong>Amazon S3</strong>: Moves the master and renditions to storage, based on profile settings</li>
                    <li>
                        <strong>Catalog</strong>: Stores requisite information associated with the video</li>
                </ul>
                <p>After initial transcoding, you have the following actions you can perform on the media:</p>
                <ul>
                    <!-- the following item on hold indefinitely -->
                    <!-- <li><strong>Delete</strong>: Delete, when needed, the master or all items</li> -->
                    <li>
                        <strong>Re-transcode</strong>: Create new renditions when master is present (error if master is not present)</li>
                    <li>
                        <strong>Replace</strong>: Point to a new master, or replace an existing master</li>
                </ul>
            </div>
            <div id="operations" class="section">
                <h2>Operations</h2>
                <p>When you use the DI API you will perform different operations, such as reading an ingest profile and writing ingest information to your account. The following is a complete list of operations required for DI tasks:</p>
                <ul>
                    <li>video-cloud/video/create</li>
                    <li>video-cloud/video/read</li>
                    <!-- for adding images -->
                    <li>video-cloud/video/update</li>
                    <li>video-cloud/ingest-profiles/profile/read</li>
                    <li>video-cloud/ingest-profiles/account/read</li>
                    <li>video-cloud/ingest-profiles/account/write</li>
                    <li>video-cloud/ingest-profiles/profile/write</li>
                </ul>
                <p>To obtain client credentials, see one of the following documents:</p>
                <ul>
                    <li><a href="http://docs.brightcove.com/en/video-cloud/oauth-api/guides/get-client-credentials.html">OAuth: Get Client Credentials Using CURL</a>
                    </li>
                    <li><a href="http://docs.brightcove.com/en/video-cloud/oauth-api/guides/get-client-credentials-postman.html">OAuth: Get Client Credentials Using Postman</a>
                    </li>
                </ul>
            </div>
            <div id="sourceLocations" class="section">
                <h2>Valid source locations</h2>
                <p>Dynamic Ingest can pull source video files from: HTTP/HTTPS or S3 - with or without authentication</p>
                <p>
                    <span class="api-setting-info-title">Examples:</span>
                </p>
                <ul>
                    <li>http://example.com/path/to/input.avi</li>
                    <li>https://dl.dropboxusercontent.com/u/3641457/Bird_Titmouse.mp4</li>
                    <li>s3://my-bucket/video.mp4</li>
                </ul>
                <!-- <p class="BCL-aside">Note: Dynamic Ingest currently includes limited support for Aspera and FTP, but this must be explicitly enabled on your account. If you would like to use one of these protocols, please contact support.</p> -->


               <h3>Notes on S3</h3>
                <p>If your videos are in a protected S3 bucket, see <a href="../guides/di-s3.html">Using Dynamic Ingest with S3</a> for details on how to set up permissions for Dynamic Ingest to access your files.</p>
            </div>
            <div class="section" id="ingestingVideos">
                <h2>Ingesting videos</h2>
                <p>There are two API calls required for ingesting videos:</p>
                <ol>
                    <li>Call the CMS API to create a video object in the Video Cloud system and get its id</li>
                    <li>Call the DI API to provide the URL for the video source file and specify the <a href="//docs.brightcove.com/en/video-cloud/ingest-profiles-api/guides/standard-profiles.html">ingest profile</a> to be used</li>
                </ol>
                <p>See the <a href="quick-start-di.html">Quick Start</a> for details of the API calls, and you can also see a <a href="../samples/batch-dynamic-ingest.html">working sample</a>.</p>
                <p>For CMS API call to create the video in the Video Cloud system, see the <a href="//docs.brightcove.com/en/video-cloud/cms-api/getting-started/overview-cms.html#settingvalues">CMS API Overview</a>. Note that the video <code>name</code> is required, and that the name and any other strings included for video metadata (such as the <code>description</code>) <strong>must be URI-encoded</strong>.</p>
            </div>
            <div class="section" id="rateLimiting">
                <h2>Best practices</h2>
                <p>To insure good performance and results with Dynamic Ingest, it's important that you follow these best practices!</p>
                <div class="BCL-aside">
                    <ul>
                        <li>A 20 request per minute limit on each account for total requests across DI and the CMS API (CMS API or Ingest API requests)</li>
                        <li>A limit of 100 concurrent DI jobs per account</li>
                        <li>Ingest content smaller than 100GBs per file (if you need to ingest larger files please contact your Account Manager)</li>
                        <li>If you are ingesting files in batches, limit batches to 100 and wait for the previous batch to complete processing before continuing</li>
                        <li>Validate <a href="../../ingest-profiles-api/getting-started/api-overview.html">ingest profile</a> changes before ingesting full batches</li>
                    </ul>
                </div>
                <p>If you have a high volume of videos to ingest on a regular basis, you will need to combine your ingest app with a <a href="../../media-management/guides/get-status-di.html">notification receiver</a> to know when you need to pause and resume ingest requests. See <a href="../guides/fallback-retry.html">Fallback / Retry Strategy</a> for more details.</p>
            </div>
            <div class="section" id="replaceVideo">
                <h2>Replace a video</h2>
                <p>To replace a video with a new version or a new set of renditions, the Dynamic Ingest API call is exactly the same as it would be for <a href="../samples/batch-dynamic-ingest.html">ingesting new videos</a> - the only difference is that you do not need to make a prior call to the CMS API to create the video object in the Video Cloud system and get an id for it. If the source video file at the specified URL is the same one originally ingested, you will simply get a new set of renditions. If the source file is new, you will be replacing the existing video. All videos will remain playable with existing renditions until retranscoding is complete.</p>
                <p>See the <a href="../samples/batch-dynamic-ingest-retranscode.html">working sample here</a>.</p>
            </div>
            <div id="retranscode" class="section">
                <h2>Retranscode a video</h2>
                <p>If you chose to <a href="../../ingest-profiles-api/guides/archiving-masters.html">archive a master</a> when you ingested the video through the Dynamic Ingest API or the Studio Upload Module, then you can also retranscode the video from the master. Again the URL for the ingest request will be the same, but the request body will have the following:</p>
<pre><code>// request
POST /v1/accounts/{account_id}/videos/{video_id}/ingest-requests

// request body
{
    "master": { <strong><em>"use_archived_master": true</em></strong> },
    "profile": "videocloud-default-v1"
}</code></pre>
                <div class="BCL-aside">
                    <p>Notes:</p>
                    <ul>
                        <li>If the master was not archived, or the video was <em>not</em> ingested using the Dynamic Ingest API or the Upload Module, you will receive an error</li>
                        <li>The recommended standard ingest profiles (videocloud-default-v1, screencast-1280, high-resolution, smart-player-transition, single-bitrate-standard, and single-bitrate-high) will all archive the master. If you are using a custom ingest profile, you must <a href="http://docs.brightcove.com/en/video-cloud/ingest-profiles-api/guides/archiving-masters.html">specify that that the master</a> should be archived if you want to be able to retranscode from the master later.</li>
                        <li>The master is <strong>never</strong> modified during retranscoding</li>
                        <li>Settings for archiving and distributing masters are <strong>never</strong> modified during retranscoding</li>
                        <li><p>Known Issue: when you retranscode a video using Dynamic Ingestion, the activation date for the video is updated to the current date. If you use Smart Playlists ordered by activation date, this will affect the order of the videos in the playlist.</p></li>
                    </ul>
                </div>
            </div>
            <div class="section" id="capture-images">
                <h2>Images</h2>
                <p>You can use the Dyanamic Ingest API to capture poster and thumbnail images from your video, or to add your own images. For details, see <a href="../guides/images.html">Images and the Dynamic Ingest API</a>.</p>
                <p class="BCL-aside">If your images will be pulled from a protected S3 bucket, you will need to set a bucket policy to allow Video Cloud to access the files. See <a href="../guides/di-s3.html#setPolicy">Using Dyanamic Ingest with S3</a> for details.</p>
            </div>
            <div class="section" id="ingest_captions">
                <h2>Ingest captions</h2>
                <p>You can also add WebVTT captions to your video or upload them for an existing video using Dynamic Ingest. For details, see <a href="../guides/webvtt.html">Ingesting WebVTT Files</a>.</p>

                <div class="BCL-aside">
                    <p>Notes:</p>
                    <ol>
                        <li>for images and text tracks, only public HTTP or HTTPS URLs or signed S3 URLs are supported</li>
                        <li>for text tracks, Dynamic Ingest only adds/appends them to video’s vtt list even if it’s a reencode request. customer should use the CMS API to manage them (update/delete)</li>
                        <li>Dynamic Ingest accepts up to 100 text tracks at a time</li>
                        <li>mime_type is not supported</li>
                    </ol>
                </div>
            </div>
            <div class="section" id="drm">
                <h2>DRM and HLSe</h2>
                <p>Dynamic Ingest handles videos that use any of the DRM types supported by Brightcove. HLSe is also supported.</p>
            </div>
            <div class="section" id="archiving">
                <h2>Archiving Renditions</h2>
                <p>By default, all video and image renditions are automatically archived. If you want to turn archiving of renditions off, <a href="http://support.brightcove.com/en/contact">contact Brightcove Support</a>. Note that <a href="/en/video-cloud/ingest-profiles-api/guides/archiving-masters.html">digital masters</a> are archived if that is specified in the ingest profile.</p></p>
            </div>
            <div class="section" id="notifications">
                <h2>Notifications</h2>
                <p>You can specify a one or more callback URLs to receive notifications of the results of the ingest process. The URLs you specify should be for apps than can accept POST requests. Notifications will be sent in JSON format.</p>
                <p>Details of receiving and interpreting notifications can be found in <a href="../../media-management/guides/notifications.html">Notifications: Dynamic Ingest and CMS APIs</a></p>
            </div>
            <div class="section" id="limitations">
                <h2>Limitations</h2>
                <dl>
                    <dt>Transcode profiles</dt>
                    <dd>Dynamic Ingest uses one of the <a href="//docs.brightcove.com/en/video-cloud/ingest-profiles-api/guides/standard-profiles.html">ingestion profiles described here</a>. It does <strong>not</strong> use the rendition set defined in your Video Cloud account settings. See <a href="//support.brightcove.com/en/video-cloud/docs/managing-ingest-profiles">Managing Ingest Profiles</a> for information on creating custom ingest profiles.</dd>
                </dl>
            </div>
            <div class="section" id="BCLreferences">
                <h2>Related Topics</h2>
                <ul>
                    <li><a href="//docs.brightcove.com/en/video-cloud/di-api/getting-started/quick-start-di.html">Quick Start to Dynamic Ingest</a>
                    </li>
                    <li><a href="//docs.brightcove.com/en/video-cloud/di-api/guides/faqs-di.html">Dynamic Ingest API FAQs</a>
                    </li>
                    <li><a href="//docs.brightcove.com/en/video-cloud/ingest-profiles-api/guides/standard-profiles.html">Standard Ingest Profiles</a>
                    </li>
                    <li><a href="../guides/images.html">Images and the Dynamic Ingest API</a></li>
                    <li><a href="../guides/webvtt.html">Ingesting WebVTT Files</a></li>
                    <li><a href="../../ingest-profiles-api/guides/drm.html">Content Security (DRM and HLSe)</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site-v1.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script type="text/javascript">
        /******** Any scripts specific to page samples should go here *********/
    </script>
    <div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a>
    </div>
    <script>
        var feedbackMail = document.getElementById("feedbackMail");
        feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
    </script>
</body>

</html>
