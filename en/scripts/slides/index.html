<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>Analytics API v0&gt;v1 Migration</title>

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/bcls-slides.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>
</head>
<body>
  <div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->

            <div id="top" class="section slide">
                <h1>Analytics API Migration: v0 to v1</h1>
                <p class="doc-only">This topic provides information for developers who are migrating apps and integrations from the v0 (Limited Availabilty) version of the Analytics API to version v1.</p>
            </div>
            <div class="section slide" id="enhancements">
                <h2>New features</h2>
            </div>
            <div id="v1Enhancements" class="slide">
                <h3>v1 Enhancements</h3>
                <p>If you are currently using the Limited Availabilty version of the Analytics API, there are many reasons to upgrade your apps to the v1 version. Here are some of the enhancements offered in the v1 version:</p>
                <ul>
                    <li><div class="slide">
                        Generate reports on multiple accounts: you can now generate reports on more than one account using the <code>accounts</code> parameter - <a href="#accounts">see more...</a>
                    </div></li>
                    <li><div class="slide">
                        Filter videos by video properties: you can now select the videos you want to report on using video properties such as tags, custom fields, and reference ids - <a href="#videoProperties">see more...</a>
                    </div></li>
                    <li><div class="slide">
                        Engagement endpoints: there are new engagement endpoints that allow you to get detailed engagement data for recent views - <a href="engagementEndpoints">see more...</a>
                    </div></li>
                </ul>
            </div>
            <div id="generalChanges" class="section slide">
                <h2>General changes</h2>
            </div>
                <div id="baseURL" class="slide">
                    <h3>Base URL</h3>
                    <div><p>The base URL for the API has changed:</p>
                    <div class="slide">
                        <p>Old URL:</p>
                        <pre><code>https://data.brightcove.com/analytics-api/videocloud</code></pre>
                    </div>
                    <div class="slide">
                        <p><strong>New URL:</strong></p>
                        <pre><code><strong>https://analytics.api.brightcove.com/v1</strong></code></pre>
                    </div>
                    </div>
                </div>
                <div id="authentication" class="slide">
                    <h3>Authentication</h3>
                    <div>
                        <div class="slide">
                            <p>Authentication via the v0 (Limited Availabilty) is no longer supported. You must get access tokens for the Analytics API via the <a href="//docs.brightcove.com/en/video-cloud/oauth-api/getting-started/oauth-api-overview.html">Brightcove OAuth Service</a>.</p>
                        </div>
                        <div class="slide">
                            <p>See <a href="//docs.brightcove.com/en/video-cloud/analytics-api/guides/managing-api-credentials.html">Managing API Credentials</a> for information on obtaining client credentials for the Analytics API.</p>
                        </div>
                        <div class="slide">
                            <p>In order to use the <a href="#videoProperties">video property filters</a>, your client credentials need to have permisssions for both:</p>
                            <ul>
                                <li>video-cloud/analytics/read</li>
                                <li>video-cloud/video/read</li>
                            </ul>
                        </div>
                        <div class="slide">
                            <p class="BCL-aside">Note: you can also use the OAuth service to authenticate calls to the v0 API. You may want to test this with working apps before migrating to v1, to make sure you have the authentication implemented correctly.</p>
                        </div>
                    </div>
                </div>
                <div id="rollups" class="slide">
                    <h3>Rollups</h3>
                    <div>
                        <p>Account rollup calls are no longer supported. </p>
                        <p>If you were using rollups to get detailed engagement information on recent video views, you will now be able to obtain these through the new <a href="#engagementEndpoints">engagement endpoints</a>.</p>
                    </div>
                </div>
            <div class="section slide" id="reportChanges">
                <h2>Report Changes</h2>
            </div>
                <div id="reports" class="slide">
                    <h3>Reports</h3>
                    <div>
                        <p>Reports are now accessed through the <code>data</code> resource rather than <code>report</code>:</p>
                        <div class="slide">
                            <p>Old report endpoint</p>
                                <pre><code>https://data.brightcove.com/analytics-api/videocloud/accounts/{accountId}/report</code></pre>
                            <div class="slide">
                                <p><strong>New report endpoint</strong></p>
                                    <pre><code><strong>https://analytics.api.brightcove.com/v1/data</strong></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="accounts" class="slide">
                    <h3>Accounts</h3>
                    <div>
                        <p>For <a href="#reports">reports</a>, <code>accounts</code> is now a <strong>parameter</strong> rather than a <strong>resource</strong> in the URL path - this allows generation of reports on multiple accounts:</p>
                        <div class="slide">
                            <p>Old way:</p>
                                <pre><code>.../accounts/{accountId}/report...</code></pre>
                        </div>
                        <div class="slide">
                            <p><strong>New way:</strong></p>
                                <pre><code><strong>.../data?accounts={account_id1},{account_id2}...</strong></code></pre>
                        </div>
                        <div class="slide">
                            <p class="BCL-aside">Note: the new <a href="#engagementEndpoints">engagement endpoints</a> and the <a href="//docs.brightcove.com/en/video-cloud/analytics-api/guides/video-information-endpoint.html">video information endpoint</a> still have <code>/accounts/{account_id}/</code> in the URL path, and accept requests for a single account only.</p>
                        </div>
                    </div>
                </div>
                <div id="date" class="slide">
                    <h3 id="date"><code>day</code> becomes <code>date</code> dimension</h3>
                    <div><p>The <code>day</code> dimension for reports is replaced by the <strong><code>date</code></strong> dimension. The <code>date</code> dimension works in the same way and returns the same data as the old <code>day</code> dimension. See the <a href="//docs.brightcove.com/en/video-cloud/analytics-api/guides/date.html">guide to the <code>date</code> dimension</a> for more information.</p></div>
                </div>
                <div id="date_hour" class="slide">
                    <h3><code>date_hour</code> dimension</h3>
                    <div>
                        <p>The <code>date_hour</code> dimension is used like the <code><span id="#date">date</span></code> dimension, but allows you to get hourly data for periods within the previous 32 days.</p>
                        <div class="slide">
                            <p>If the range for the <code>date_hour</code> requests extends outside the previous 32 days, an error will be returned. To specify hours of the day for request, set the <code>from</code> and <code>to</code> parameters to millisecond value of epoch time rather than using MM-DD-YYYY dates. For example:</p>
                        </div>
    <pre><code id="date_hour_example"></code></pre>
                        <p>See the <a href="//docs.brightcove.com/en/video-cloud/analytics-api/guides/date_hour.html">guide to the <code>date_hour</code> dimension</a> for more information.</p>
                    </div>
                </div>
                <div id="reportFields" class="slide">
                    <h3>Top-level fields for reports</h3>
                    <div><p>Reports will always have these three top-level fields (only):</p>
                    <ul>
                        <li><div class="slide">
                            <code>summary</code>
                        </div></li>
                        <li><div class="slide">
                            <code>item_count</code>
                        </div></li>
                        <li><div class="slide">
                            <code>items</code>
                        </div></li>
                    </ul>
                    </div>
                </div>
                <div id="multipleDimensions" class="slide">
                    <h3>Fields for reports on multiple dimensions</h3>
                    <div><p>Fields returned for reports on multiple dimensions will be a union of the fields for each dimension included in the request.</p> <p>See the <a href="//docs.brightcove.com/en/video-cloud/analytics-api/getting-started/api-overview.html#reportDimensions">Analytics API Overview</a> for information on what dimensions can be combined in reports.</p></div>
                </div>
                <div id="fieldValidation" class="slide">
                    <h3>Strict validation on <code>fields</code> and <code>sort</code> parameters</h3>
                    <div>
                        <p>The <code>fields</code> and <code>sort</code> parameters are strictly validated. If you include a field that is not supported for the call you are making, an error will be returned.</p>
                    </div>
                </div>
                <div id="fieldsAll" class="slide">
                    <h3><code>fields=all</code></h3>
                    <div>
                    <p><code>fields=all</code> is no longer supported. The fields you want to return for items must be specified.</p>
                    <p>See <a href="//docs.brightcove.com/en/video-cloud/analytics-api/getting-started/api-overview.html#dimensions">Dimensions</a> for the fields supported for each dimension.</p>
                    </div>
                </div>
                <div  id="refID"class="slide">
                    <h3><code>video.reference_id</code> and <code>video.tags</code></h3>
                    <div>
                        <p>If you include <code>video.reference_id</code> and/or <code>video.tags</code> in <code>fields</code> for reports on the <code>video</code> dimension, they will be returned in the response (or <code>null</code> if there is no reference id, an emtpy array if there are no tags).</p>
                        <p class="BCL-aside">Reference id and tags data is cached for 24 hours, and so will not reflect changes made in the past 24 hours.</p>
                    </div>
                </div>
                <div id="videoProperties" class="slide">
                    <h3>Filtering by video properties</h3>
                    <div>
                        <p>The <code>where</code> filter syntax for video properties is as follows: <code>where=video.q=={property}:{value}</code>. For example:</p>
                        <div class="slide">
                            <p><strong>Filter by tags</strong></p>
                            <pre><code>where=video.q==tags:foo,bar</code></pre>
                        </div>
                        <p><div class="slide">
                            <strong>Filter by reference ids</strong></p>
                            <pre><code>where=video.q==reference_id:refid1,refid2</code></pre>
                        </div>
                        <div class="slide">
                            <p class="BCL-note">Remember that this data is cached for 24 hours, so will not reflect changes made in the past day.</p>
                        </div>
                    </div>
                </div>
            <div class="section slide" id="engagement">
                <h2>Engagement endpoints</h2>
            </div>
                <div id="engagementEndpoints"  class="slide">
                    <h3>Engagement endpoints</h3>
                    <div>
                        <p>Three new engagement endpoints allow you to get granular engagement information for each 100th part of videos:</p>
                        <div class="slide">
                            <p>Account averages</p>
                                <pre><code>.../engagement/accounts/{account_id}</code></pre>
                        </div>
                        <div class="slide">
                            <p>Averages for a player</p>
                                <pre><code>.../engagement/accounts/{account_id}/players/{player_id}</code></pre>
                        </div>
                            <div class="slide">
                                <p>Engagement for a video</p>
                                    <pre><code>.../engagement/accounts/{account_id}/videos/{video_id}</code></pre>
                            </div>
                        <div class="slide">
                            <p class="BCL-aside">The only parameters supported for engagement endpoints are <code>from</code> and <code>to</code>and only periods within the previous 32 days are supported for engagement endpoints.</p>
                        </div>
                        <div class="slide">
                            <p class="BCL-aside">Note: the new <a href="#engagementEndpoints">engagement endpoints</a> and the <a href="//docs.brightcove.com/en/video-cloud/analytics-api/guides/video-information-endpoint.html">video information endpoint</a> still have <code>/accounts/{account_id}/</code> in the URL path, and accept requests for a single account only.</p>
                        </div>

                    </div>
            </div>

    <!-- End slides. -->

    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet -->
    <div aria-role="navigation">
      <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
      <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>

    <!-- deck.status snippet -->
    <p class="deck-status" aria-role="status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
  </div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
  });
</script>
<iframe width="550" height="475" frameborder="0" src="
http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=
[articleURL]" style="margin-left:25%; padding-bottom:20px;"></iframe>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>
</html>
