<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title></title>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
	<script src="//use.edgefonts.net/source-code-pro.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
			<div id="top" class="section">
				<h1>Once UX VMAP for Twitter Amplify</h1>
				<h2>Introduction</h2>
				<p>Once UX VMAP for Twitter Amplify is an extension to Brightcove’s Once UX service.  It is built upon the IAB VMAP 1.0 specification which is consumable by Twitter’s video player in iOS, Android and desktop applications. Utilizing native Once device detection and decisioning logic, or alternatively when explicitly requesting the Amplify format, the service will respond to the client with the applicable VMAP 1.0 XML and video content based upon in-request or preconfigured business logic as detailed within this document.</a>
				</p>
			</div>
			<div class="section" id="features">
				<h2>Features</h2>
				<ul>
					<li>Utilize new or existing Once VOD content when distributing via Twitter Amplify.</li>
					<li>No need to change ad decisioning systems to work with Amplify and non-Amplify distribution.</li>
					<li>Flexible usage based on per-request, pre-configured, or ad server-derived Amplify required parameters.</li>
					<li>All ad and beacon tracking will be exposed to the Twitter client which will fire all impressions, tracking events and other callbacks presented via the Once UX VMAP response.
					</li>
				</ul>
			</div>
			<div class="section" id="architecture">
				<h2>Architecture</h2>
				<p>As an extension of the Once UX service, the VMAP XML presented to Twitter Amplify is based upon Internet Advertising Bureau (IAB) specifications for VMAP 1.0 and VAST 3.0. All video session metadata - both publisher and ad creative content - is formatted to adhere to the Twitter Amplify specification for consumption by the Twitter client application. Once UX contains built-in functionality capable of determining the requesting device and application, dynamically generating a Twitter Amplify VMAP response which includes advertising data, 3rd party audience measurement data and the video content stream URI. </p>
			</div>
			<div class="section" id="requirements">
				<h2>Requirements</h2>
				<ul>
					<li>You must use an Ad Partner that can adhere to the unique response requirements to fulfill Twitter requirements for the <code>brandId</code> (the Twitter <code>ownerId</code> of the advertiser)</li>
					<li>You must provide your Twitter <code>ownerId</code> (the id for your Twitter account) to be associated with all content delivered through Twitter Amplify</li>
					<li>
						Only a single pre-roll is supported by Twitter Amplify - any additional ad configuration could result in ad beacons never being requested by the Amplify Player
					</li>
				</ul>
			</div>
			<div class="section" id="apiRequest">
				<h2>Once UX API request</h2>
				<p>All requests will be type <code>GET</code> and <strong>must</strong> be made via SSL (this is a Twitter requirement):</p>
				<textarea class="code-area">https://Once UX.unicornmedia.com/now/ads/vmap/od/auto/{domainGUID}/{applicationGUID}/{mediaItemGUID}/[?forcetav=true][&amp;param1=value]]</textarea>

				<table>
					<thead>
						<tr>
							<th>Argument</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><code>domainGUID</code></td>
							<td>Unique identifier for the domain</td>
						</tr>
						<tr>
							<td><code>applicationGUID</code></td>
							<td>Unique identifier for the application</td>
						</tr>
						<tr>
							<td><code>mediaitemGUID</code> or <code>foreignKey</code></td>
							<td>Unique identifier for the media item</td>
						</tr>
						<tr>
							<td><code>Forcetav=true</code></td>
							<td>Explicit parameter to generate a VMAP with Twitter extensions (required)</td>
						</tr>
						<tr>
							<td>Parameter values</td>
							<td>Dynamic or static key/value pairs used to pass information to the ad server (optional)</td>
						</tr>
					</tbody>
				</table>
				<p>For a forced rendtion:</p>
				<textarea class="code-area">https://Once UX.unicornmedia.com/now/ads/vmap/{deliveryType}/{requestedFileType}/{domainGUID}/{applicationGUID}/{mediaItemGUID}/[?forcetav=true][&amp;param1=value]</textarea>
				<table>
					<thead>
						<tr>
							<th>Argument</th>
							<th>Description</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><code>deliveryType</code></td>
							<td>Method of delivery type (adaptive|stitched)</td>
						</tr>
						<tr>
							<td><code>requestedFileType</code></td>
							<td>Type of file being returned (m3u8|mp4)</td>
						</tr>
						<tr>
							<td><code>domainGUID</code></td>
							<td>Unique identifier for the domain</td>
						</tr>
						<tr>
							<td><code>applicationGUID</code></td>
							<td>Unique identifier for the application</td>
						</tr>
						<tr>
							<td><code>mediaitemGUID</code> or <code>foreignKey</code></td>
							<td>Unique identifier for the media item</td>
						</tr>
						<tr>
							<td><code>Forcetav=true</code></td>
							<td>Explicit parameter to generate a VMAP with Twitter extensions (required)</td>
						</tr>
						<tr>
							<td>Parameter values</td>
							<td>Dynamic or static key/value pairs used to pass information to the ad server (optional)</td>
						</tr>
					</tbody>
				</table>
				</div>
				<div class="section" id="configuration">
				    <h2>Configuration</h2>
					<p>Twitter card excerpt:</p>
					<textarea class="code-area"><meta name="twitter:amplify:vmap" content="https://Once UX.unicornmedia.com/now/ads/vmap/od/auto/a2df377d-7f81-4be2-92c2-f07dc272064a/d92617d4-b9bb-4df2-935f-d75a009bd4fd/d482b365-1a4f-4464-af2a-43d0b322211a?forcetav=true" /></textarea>
				</div>
				<div class="section" id="onceTAV">
				    <h2>Twitter Amplify Metadata Requirements</h2>
					<h3>Publisher <code>ownerId</code> (required)</h3>
				    <p>The Publisher's Twitter <code>ownerId</code> is required and <strong>must</strong> be a numeric ID associated with the Twitter account  where the content will be served. The ID can be retrieved from Twitter. This value SHOULD be passed as extended metadata on ingest for the video content into the Once system.</p>
					<h4>Example of adding extended metadata within ingest request (see the guide to the <a href="../guides/getting-started-once.html#ingest">API Content Ingest</a> for more details):</h4>
<pre><code>&lt;ExtendedMetadata&gt;
	&lt;twownerId&gt;123&lt;/twownerId&gt;
&lt;/ExtendedMetadata&gt;</code></pre>
					<h4>Options for <code>ownerId</code> retrieval</h4>
					<ul>
						<li>
							Configured for the entire domain
							<ul>
								<li>Should only be done if multiple Twitter accounts are not associated to the same domain.</li>
							</ul>
						</li>
						<li>
							Configured for the application
							<ul>
								<li>Can be used for existing customers with content already in the Once system.</li>
								<li>Provides granularity in case a single domain delivers to multiple Twitter accounts.</li>
								<li>An application configuration will overwrite any existing domain configuration.</li>
							</ul>
						</li>
						<li>
							Set via Query String
							<ul>
								<li>
									Can be set explicity on the query string of the Once UX request.
									<ul>
										<li>Example: <code>?twownerId=ownerId</code> or <code>&twownerId=ownerId</code></li>
									</ul>
								</li>
								<li>A query string value will overwrite any application and domain configurations.</li>
							</ul>
						</li>
					</ul>
				<h3>Publisher <code>contentId</code> (required)</h3>
				<p>The  <code>contentId</code>  is used by Twitter to uniquely identify the content being viewed. The "Foreign Key" within the Once system is used to pass into the Twitter Amplify VMAP response. Items within the Once system should be configured with foreign keys otherwise it could impact metrics gathered by Twitter for accurate reporting.</p>
				<h3>Advertiser <code>brandId</code> (required)</h3>
				<p>The <code>brandid</code> should be included in the ad server response and adhere to Twitter Amplify requirements, where <code>brandid</code> must be numeric and represents the advertiser’s Twitter <code>ownerId</code>. The <code>brandid</code> from the customer ADS must follow the same xpath to ensure proper parsing by the Once system for visibility in the VMAP object.</p>
				<p>Notify Brightcove Support of any changes to the ADS.</p>
				<h4>Options for  <code>brandId</code>  (if not supported by ADS)</h4>
				<ul>
					<li>
						Set via Query String
						<ul>
							<li>In the case that the ADS does not respond with a  <code>brandId</code> , the appropriate  <code>brandId</code>  can be retrieved from Twitter and passed on the Once UX request
							<ul>
								<li>Example: <code>?twbrandId=brandId</code> or <code>&twbrandId=brandId</code></li>
							</ul>
							</li>
						</ul>
					</li>
				</ul>
				<h3>Content and Ad Tracking Events</h3>
				<p>Content and Ad tracking are both configurable within the Once system to expose impressions and tracking events to the Twitter Amplify client, which in-turn will fire events at appropriate playhead intervals. These supported beacons include:</p>
				<ul>
					<li>start</li>
					<li>firstQuartile</li>
					<li>midpoint</li>
					<li>thirdQuartile</li>
					<li>complete</li>
					<li>pause</li>
					<li>rewind</li>
					<li>resume</li>
				</ul>
				<p>Content tracking MUST be preconfigured by Brightcove with the appropriate third party tracking tag URLs. These beacons are configurable per application, and can further be configured to pass dynamic or static metadata values.</p>
				<h3>Video Ad Creatives</h3>
				<p>Video ad creatives do not need to be pre-loaded into Once, as the system will automatically ingest any new ad creatives utilizing the Ad Cache service and prepare them for server-side insertion and delivery.</p>
				<div class="section" id="samples">
				    <h2>Samples</h2>
				    <p>Below is a sample Twitter Card html.</p>
					<p>For help on creating the Twitter Amplify VMAP XML, contact <a href="mailto:oncesupport@brightcove.com">Once Support</a>.</p>
					<h3>Twitter Card html</h3>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
	&lt;head&gt;
		&lt;meta charset="utf-8"&gt;

		&lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;

		&lt;title&gt;HTML&lt;/title&gt;

	&lt;meta name="twitter:card" content="amplify"/&gt;
	&lt;meta name="twitter:description" content="Video Description"&gt;
	&lt;meta name="twitter:domain" content="https://twitter.com/DomainName"&gt;
	&lt;meta name="twitter:site" content="@DomainName"&gt;
	&lt;meta name="twitter:player:width" content="320"&gt;
	&lt;meta name="twitter:player:height" content="240"&gt;
	&lt;meta name="twitter:image:src" content="https://brightcove.com/image.jpg"&gt;
	&lt;meta name="twitter:player:stream:content_type" content="video/mp4"&gt;
	&lt;meta name="twitter:creator" content="@OnceTesting"&gt;
	&lt;meta name="twitter:amplify:vmap" content="https://Once UX.unicornmedia.com/now/ads/vmap/od/auto/b2df377d-7f81-4be2-92c2-f07dc272064a/c92617d4-b9bb-4df2-935f-d75a009bd4fd/d482b365-1a4f-4464-af2a-43d0b322211e/content.once?forcetav=true" /&gt;
 	&lt;style&gt;
 		.noText{
 			color: #FFFFFF;
 		}
 	&lt;/style&gt;
	&lt;/head&gt;

	&lt;body&gt;
		&lt;div&gt;
			&lt;div class="noText"&gt;Some place holder text&lt;/div&gt;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;
</code></pre>
				</div>
		</div>
	</div>
	</div>
	<!-- bcl scripts -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>

	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
	<script src="/en/scripts/log.js"></script>
	<script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
