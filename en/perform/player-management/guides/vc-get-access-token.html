<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>Get an Access Token for Player Management API</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

  <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
  <!-- header navbar -->
  <div id="navWrapper" class="fixed"></div>
  <!-- breadcrumbs -->
  <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
  <!-- content -->
  <div class="row">
    <div class="sidebar large-2 columns show-for-large-up">
      <div id="sidenav" class="side-nav"></div>
    </div>
    <div id="main" class="large-10 small-12 columns">
      <div id="top" class="section">
        <h1>Get an Access Token for Player Management API</h1>
        <p>This tutorial guides you through the steps to get an <code>access_token</code> using <code>curl</code>. Your client_id and client_secret are used in getting an access_token, which provides the authorization to make a call to a particular Brightcove API. Be aware that the access token will expire every five minutes, so it is possible you will need to request a new token near that interval. Details how to do so appear in this document.</p>
         <p>If you haven't yet looked at the <a href="../../oauth-api/getting-started/oauth-api-overview.html">OAuth Overview</a>, it would be a good idea to look at it before proceeding.</p>
        <p class="text-warning" id="curlNote">Note: The steps in the document involve <code>curl</code> and other command-line tools that are native to Mac and Linux systems, but not part of the Windows operating system. If you are on Windows, you can get these tools by installing <a href="//cygwin.com">cygwin</a>. During the install you will be prompted for packages to install. Open the <strong>Net</strong> package, then check the <strong>curl</strong> option and then finish the installation. Once you have done this you will be able to follow the Quick Start to Player Management successfully as written using the cygwin command line. Tools are available to run curl at the normal Windows command line, but not detailed in this document.</p>
      </div>
      <div id="steps" class="section">
                <h2>Steps</h2>
                <h3>Get your <code>BC_TOKEN</code> and account number</h3>
                <p>You will need to login to Studio to get your <code>BC_TOKEN</code>.</p>
                <ol>
                    <li>Login to Studio as you normally do.</li>
                    </li>
                    <li>You need your account number, which you can get by going to your account profile in Studio:<br />
                    <img class="video-cloud-only" src="../../oauth-api/guides/assets/account-info-old-studio.png" width="199" height="175">
                    <img class="perform-only" src="../../oauth-api/guides/assets/get-account-info-perform.png" width="187" height="193">
                    </li>
                    <li>With any page in Studio open, open the developer tools for the browser, go to the Console, and paste in the following code:
<pre><code>var cookiesArray = document.cookie.split(";"), cookiesObj = {}, i, tmpArray = [];
for (i = 0; i < cookiesArray.length; i++) {
    tmpArray = cookiesArray[i].split("=");
    cookiesObj[tmpArray[0].replace(/\s/g, "")] = tmpArray[1];
}
window.prompt("BC_TOKEN:", cookiesObj.BC_TOKEN);</code></pre>
                        <p>and press return.</p>
                    </li>
                    <li>You should see a prompt appear that contains your <code>BC_TOKEN</code>:<br /><img src="../../oauth-api/guides/assets/prompt-with-token-safari.png" width="426" height="183"></li>
                    <li>If you have your BC_TOKEN, go on to the <a href="#getClientCredentials">Get client credentials</a> section; if for some reason you did not get your BC_TOKEN using the previous steps, just go to the Console, type <code>document.cookies</code>, and press return.
                    </li>
                    <li>All cookies for the page will be returned in a semi-colon-separated list. Find the BC_TOKEN cookie in the list, and copy the value:<br />
                    <img src="../../oauth-api/guides/assets/get-access-token-console.png" width="636" height="281" alt="BC_TOKEN in Chrome Developer Tools">
                </ol>
                <h3>Get <code>client_credentials</code></h3>
                <p>Now you are ready to make the call to the OAuth service to retrieve client credentials. you have to specify a client application name that you are requesting credentials for - the name is arbitrary, intended to help you keep track of what the credentials are for - and here you will just use "PlayerMgmtClient." You also have to specify the scope of the operations you want access to, and here you will use both <code>video-cloud/player/all</code> and <code>video-cloud/video/read</code>).</p>
                <ol start="7">
                    <li>At a command line and after inserting your token and account ID in the statement, enter the following curl command and press Return:
<pre><code>curl \
  --include \
  --header "Authorization: BC_TOKEN <em><strong>YOUR_BC_TOKEN</strong></em>" \
  --data 'name=PlayerMgmtClient&maximum_scope=[{
      "identity": {
        "type": "video-cloud-account",
        "account-id": <em><strong>YOUR_ACCOUNT_ID</strong></em>
      },
      "operations": [
        "video-cloud/player/all",
        "video-cloud/video/read"
      ]
    }]' \
https://oauth.brightcove.com/v3/client_credentials</code></pre>

                    </li>
                    <li>The response should look like this (formatting added):
<pre><code>{
    "client_secret":"HHxp9xn0yxMqktLEG2DhzjYB4g6AN2cl02KudMvfK-3dT6JRtiR1tUZ7LiwtHI5vqo4VT7LuD6tM4c0llEw2Rw",
    "issued_at":"2014-08-11T17:37:24Z",
    "name":"AnalyticsClient",
    "redirect_url":null,
    "description_html":"My analytics app",
    "issued_to":"<em><strong>your email address</strong></em>",
    "client_id":"9309bb5d-90fb-4d3a-aba4-1795dd5fa0b8",
    "maximum_scope":[{
        "identity":{"type":"video-cloud-account",
            "account-id":57838016001},
            "operations":["video-cloud/analytics/read"]
        }],
    "trusted":null,
    "type":"credential",
    "description":"My analytics app",
    "expires_at":null,
    "revoked":null,
    "name_html":"AnalyticsClient",
    "issued_user":53255203001
}</code></pre>
                    </li>
                    <li>Create environment variables to hold your credential values.</li>
                    <pre><code>export CLEINT_ID=YourClientID</code></pre>
                    <pre><code>export CLIENT_SECRET=YourClientSecret</code></pre>
                    <h3>Get <code>access_token</code></h3>
                    <li>To obtain your access token use the following curl statement.</li>
<pre><code>curl \
  --silent \
  --user $CLIENT_ID:$CLIENT_SECRET \
  --header "Content-Type: application/x-www-form-urlencoded" \
  --data "grant_type=client_credentials" \
  https://oauth.brightcove.com/v3/access_token</code></pre>
                    <li>Be sure you response appears as follows (formatting added and access token truncated):</li>
<pre><code>{
  "access_token": "AIwLsNg2UxkI7BA5p9r7K9oRMQ_....",
  "token_type": "Bearer",
  "expires_in": 300
}</code></pre>
                    <li>Create environment variables to hold your access token, which you can copy from previous curl response.</li>
                    <pre><code>export ACCESS_TOKEN=YourAccessToken</code></pre>
                </ol>
                <p class="BCL-aside">Note: The access token will expire in 5 minutes. If you still need the token you need to re-use the last curl statement and assign the new access token to your ACCESS_TOKEN environment variable.</p>
      </div>
      <div class="section" id="BCLreferences">
        <h2>Related Topics</h2>
        <ul>
          <li><a href="../../oauth-api/getting-started/oauth-api-overview.html">OAuth Overview</a></li>
        </ul>
      </div>
    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
  <script src="/en/scripts/log.js"></script>
  <script src="/en/scripts/docs-nav-data.min.js"></script>
  <script src="/en/scripts/bcls-doc-site.js"></script>
  <script src="/en/scripts/bc-mapi.js"></script>
  <script>
    $(document).foundation();
  </script>
  <script type="text/javascript">
    /******** Any scripts specific to page samples should go here *********/
  </script>
  
    
<div style="text-align:center">
    <iframe id="CSAT" src="//learning-services-media.brightcove.com/doc-assets/general/surveylink.html" style=" padding-bottom:20px;border:none"></iframe>
</div>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
