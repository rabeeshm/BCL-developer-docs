<!DOCTYPE html>
<html lang="en">

<head>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title>Quick Start to Plugin Development</title>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
	<script src="//use.edgefonts.net/source-code-pro.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<div id="top" class="section">
				<h1>Quick Start to Plugin Development</h1>
				<!-- Place document intro sentence(s) here -->
				<p>This document provides a hands-on introduction to plugin development and use. See the <a href="../getting-started/player-mgmt-quick-start.html">Quick Start to Player Management</a> for an introduction to creating a player and using an existing plugin.</p>
			</div>
			<div id="developmentapproach" class="section">
				<h2>Development approach</h2>
				<p>The JavaScript and CSS you develop for plugins will eventually need to be stored in an Internet accessible location, but it is recommended that during development you create and test locally. To do this, you will perform the following:</p>
        <ul>
            <li>Create a file to contain your JavaScript plugin code.</li>
            <li>Create a file to contain your CSS plugin code (if needed).</li>
            <li>Create an HTML file for testing. Use the <code>embed_in_page</code> implementation for the player.</li>
            <li>Add an <code>id</code> to the <code>&lt;video></code> tag.</li>
            <li>Link to the JavaScript and CSS pages.</li>
            <li>Use a <code>&lt;script></code> tag to call the function.</li>
            <li>Develop and debug your code.</li>
        </ul>
        <p>The rest of this document guides you through these steps to build and deploy a simple plugin.</p>
			</div>
			<div id="buildthebasics" class="section">
				<h2>Build the basics</h2>
				<p>To begin the process of building a plugin, you need to perform some of the foundational, high-level steps mentioned above.</p>
				<ol>
					<li>Create a folder named <code>plugin-dev</code> that can be browsed using an actual HTTP server. The server is necessary for the iframe implementation testing later in this document.</li>
					<li>In the folder, create three files with the following names:</li>
					<ul>
						<li>plugin-dev.html (Insert the basic elements for an HTML page into the file)</li>
						<li>plugin-dev.js</li>
						<li>plugin-dev.css</li>
					</ul>
					<li>Do the <em>Get started</em> and <em>Create a player</em> sections of the <a href="../getting-started/player-mgmt-quick-start.html">Quick Start to Player Management</a> document and copy the <code>embed_in_page</code> value.</li>
					<li>Browse the copied URL, copy the generated code and paste into the body of the <code>plugin-dev.html</code> page.</li>
					<li>Move the <code>&lt;link></code> tag into the <code>&lt;head></code> section of the HTML page.</li>
					<li>Add an <code>id</code> attribute to the <code>&lt;video></code> tag with a value of <code>player</code>.</li>
					<li>Check to be sure your HTML page appears similar to the following:</li>
          <p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="58-79"></code></p>
					<li>Browse the page to be sure your video is playing.</li>
				</ol>
			</div>
      <div id="javascript" class="section">
        <h2>Create JavaScript</h2>
        <p>Next you will create and test the JavaScript code to build an overlay for the video.</p>
        <ol start="9">
        	<li>Open the file <code>plugin-dev.js</code> and paste in the following JavaScript code:</li>
          <p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="1-7"></code></p>
          <li>Check your understanding of each line inserted:</li>
        	<ul>
        		<li>Lines 1 and 7 are the standard syntax to begin and end a new player plugin. In this case, the plugin name is <code>pluginDev</code>.</li>
        		<li>Line 2 is a standard way to have a way to get a handle to the player. This is necessary to call methods of the player, which you will do later.</li>
        		<li>Line 3 creates a paragraph element in the document and assigns it to the <code>overlay</code> variable.</li>
        		<li>Line 4 assigns a class to the overlay which will be used later in conjunction with CSS.</li>
        		<li>Line 5 adds text to the paragraph element.</li>
        		<li>Line 6 uses the <code>el()</code> method of the player to retrieve the player's DOM element, then appends the new paragraph element to that DOM.</li>
        	</ul>
          <p class="BCL-aside">Note: The trailing semicolon at the end of the plugin's JavaScript code (line 7 above) is required.</p>
        	<li>In the HTML file, add the following code just below the existing <code>&lt;script></code> tags. This code includes the JavaScript file and then calls the method defined in that JavaScript.</li>
          <p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="83-84"></code></p>
        	<li>Browse the HTML page again, and you will see nothing visible has changed. The problem is that the overlay is there, but not visible. You will change this later.</li>
        	<li>To verify the overlay is present, use the development tools of your browser. In the <em>Elements</em> section, check the player's <code>&lt;div></code> element, and you will see the newly inserted paragraph element, as shown here:</li>
          <div><img src="../assets/quick-start-overlay-in-elements.png" alt="quick-start-overlay-in-elements" width="663" height="504"></div>
        </ol>
      </div>
      <div id="styletheplugin" class="section">
        <h2>Style the plugin</h2>
        <p>You know the overlay is now part of the player, but not visible. Next you will style the overlay so it becomes visible. In this section of the document, you will use a very simple CSS to ensure the overlay is visible.</p>
        <ol start="14">
        	<li>Open the file <code>plugin-dev.css</code> and paste in the following styles:</li>
          <p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="89-93"></code></p>
        	<li>In the HTML file, add the following code just below the existing <code>&lt;link></code> tag. This code links to your newly created CSS file.</li>
          <p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="97"></code></p>
        	<li>Browse the HTML page and you will see the overlay is now visible.</li>
          <div><img src="../assets/quick-start-overlay-showing.png" alt="quick-start-overlay-showing" width="309" height="161"></div>
        </ol>
      </div>
      <div id="passdatatoplugin" class="section">
        <h2>Pass data to the plugin</h2>
        <p>It will often be the case that you want to change the behavior of your plugin at initialization time. This is possible by passing data into the plugin using the <code>options</code> property. In this example you will pass in the text to be displayed in the overlay.</p>
        <ol start="17">
        	<li>Open the HTML page and alter the <code>&lt;script></code> tags so a variable named <code>options</code> is created and assigned an object with a key-value pair of <em>"overlayText":"This data is supplied at initialization"</em>. Also, pass the <code>options</code> variable as an argument when calling the <code>pluginDev()</code> method. The changes should appear as follows:</li>
          <p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="101-105" data-gist-highlight-line="103,105"></code></p>
        	<li>You now need to alter the plugin's JavaScript to use the data passed to the function. Line 110 shows the function accepting the data as a parameter, and line 114 uses the object's data.</li>
          <p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="110-116"  data-gist-highlight-line="110,114"></code></p>
        	<li>Browse the HTML page and you will see the new text being used.</li>
          <div><img src="../assets/quick-start-options-showing.png" alt="quick-start-options-showing" width="310" height="161"></div>
        </ol>
        <p class="BCL-aside">Note: The process shown in this section of the document, including and calling the the plugin via JavaScript, is for development purposes and useful for initial configuration and testing, but not considered a best practice. The best practice is to include the plugin as part of your player configuration using a curl statement (as shown in following sections) even if you're using the embed_in_page implementation.</p>
      </div>
      <div id="deploytheplugin" class="section">
        <h2>Deploy the plugin</h2>
        <p>Once you have the plugin, CSS and player functioning correctly, you need to deploy the assets for proper use. Here is an overview of the steps required for deployment:</p>
        <ul>
            <li>Copy/move the JavaScript and CSS files to your remote location.</li>
            <li>Use a curl statement to add the plugin configuration to the player. The example below shows the curl statement on the right and where the key values are located in your tested HTML code:</li>
            <div><img src="../assets/combined.png" alt="combined" width="1034" height="761"></div>
            <li>Create an HTML file for testing and use the iframe implementation for the player.</li>
            <li>Test for anomalies.</li>
        </ul>
        <p>You will now be guided through these steps.</p>
        <ol start="20">
         <li>Move your plugin JavaScript and CSS files to an Internet accessible location of your choice.</li>
         <p class="BCL-aside">If you choose, you can use the files at the location shown below in the example. You could also use the <a href="//docs.brightcove.com/en/video-cloud/concepts/delivery-system-api/guides/dev-system-quick-start.html">Delivery System API</a> to store the files in your own repo.</p>
          <li>In the folder in which you are working, create another file called <code>plugin-dev-iframe.html</code>.</li>
         <li>Use the following curl statement to assign the correct values to your player:
         	<p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="37-53"  data-gist-highlight-line="42-51"></code></p>
         </li>
         <li>Publish your player again, using the following curl statement:
         	<p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="120-124"></code></p>
         </li>
         <li>From the response, copy the <code>embed_code</code> (iframe) and place it in the newly created HTML page. Your page should appear similar to the following:
         	<p><code data-gist-id="10902742" data-gist-hide-footer="true" data-gist-line="129-141"></code></p>
         </li>
         <li>Browse the HTML page and you should see the plugin functioning correctly with the iframe.</li>
        </ol>
      </div>
			<div class="section" id="BCLreferences">
				<h2>Related Topics</h2>
				<ul>
					<li><a href="../getting-started/player-mgmt-quick-start.html">Quick Start to Player Management</a></li>
					<li><a href="//docs.brightcove.com/en/video-cloud/concepts/delivery-system-api/guides/dev-system-quick-start.html">Quick Start to the Delivery System</a></li>
				</ul>
			</div>
		</div>
	</div>
	<!-- bcl scripts -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
	<script src="/en/scripts/log.js"></script>
	<script src="/en/scripts/docs-nav-data.min.js"></script>
	<script src="/en/scripts/bcls-doc-site.js"></script>
	<script src="/en/scripts/bc-mapi.js"></script>
	<script>
		$(document).foundation();
	</script>
	<script type="text/javascript">
		/******** Any scripts specific to page samples should go here *********/
	</script>
	
    
<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>