<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title>Convert Captions to WebVTT Format</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">


    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-2728311-29', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
    <!-- header navbar -->
    <div id="navWrapper" class="fixed"></div>
    <!-- breadcrumbs -->
    <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
    <!-- search -->
    <div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div id="top" class="section">
                <h1>Convert Captions to WebVTT Format</h1>
                <!-- Place document intro sentence(s) here -->
                <p>This guide explains how to convert DFXP captions for the Smart Player to WebVTT captions for the Brightcove Player. The workflow is explained, and also instructions on how to install and use a Python-based tool to convert your closed captions
                    file from DFXP/TTML to WebVTT format. You can also convert from and to other valid captions file formats.</p>
            </div>
            <div class="section" id="Workflow">
                <h2>Workflow</h2>
                <p>Here's a general workflow for converting your old DFXP captions to the WebVTT format required for the Brightcove Player:</p>
                <ol>
                    <li>Find all media with DXFP captions (using the Media API <a href="http://docs.brightcove.com/en/video-cloud/media/references/reference.html#Video_Read">search_videos method</a>, and including <code>captioning</code> in the <code>fields</code> to return)</li>
                    <li>Get the DXFP files for each video (the URL for each DFXP file is included in the response for the search_videos request)</li>
                    <li>Convert using <a href="#Caption_converter">captions tool</a></li>
                    <li>If you've already added WebVTT captions to some of your videos, you won't want to overwrite those - you can identify which videos already have WebVTT captions by looking at the <code>text_tracks</code> object returned by the <a href="http://docs.brightcove.com/en/video-cloud/cms-api/references/cms-api/versions/v1/index.html#api-videoGroup-Get_Videos">CMS API</a></li>
                    <li>Finally, for videos you need to add your converted captions files to, you can do this using the <a href="http://docs.brightcove.com/en/video-cloud/cms-api/references/cms-api/versions/v1/index.html#api-videoGroup-Update_Video">CMS API Update Video</a> method.</li>
                </ol>
            </div>
            <div class="section" id="Caption_converter">
                <h2>Caption converter</h2>
                <p>This section introduces a Python-based converter than can be used to convert DFXP captions to the WebVTT format.</p>
                <h3>What you need</h3>
                <p>You will need the following software and files:</p>
                <ul>
                    <li>Git</li>
                    <li>Python 2.7</li>
                    <li>Your DFXP/TTML captions file</li>
                    <li>The GitHub repository for <a href="https://github.com/pbs/pycaption">pycaption</a></li>
                    <li>The GitHub repository for <a href="https://github.com/jnorton001/pycaption-cli">pycaption-cli</a></li>
                </ul>
                <p>Even though the later versions of Mac OS X come with Python, this version of Python is great for learning, but not so good for development. So, you might want to install Python manually.</p>
                <h3>Supported formats</h3>
                <p>You can convert captions files between these file formats:</p>
                <ul>
                    <li>Read: DFXP/TTML, SAMI, SCC, SRT, WebVTT</li>
                    <li>Write: DFXP/TTML, SAMI, Transcript, SRT, WebVTT</li>
                </ul>
                <h3>Documentation</h3>
                <p>Refer to the associated documentation for details:</p>
                <ul>
                    <li><a href="https://github.com/pbs/pycaption/blob/master/README.rst"> pycaption README file</a></li>
                    <li><a href="https://github.com/jnorton001/pycaption-cli/blob/master/README.md"> pycaption-cli README file</a></li>
                </ul>
            </div>
            <div id="installation" class="section">
                <h2>Installation</h2>
                <p>Follow these steps to install the converter tool:</p>
                <ol>
                    <li>If you don't already have it, install <code>Git</code> on your computer. Refer to the <a href="http://git-scm.com/downloads">Git downloads</a> page.</li>
                    <li>If you don't already have it, install <code>Python 2.7</code> on your computer. Refer to the <a href="https://www.python.org/downloads/">Python downloads</a> page.</li>
                    <li>Clone the GitHub repository for <a href="https://github.com/pbs/pycaption">pycaption</a> to your desktop. This module reads a captions file and writes out a captions file in your desired format.</li>
                    <li>Clone the GitHub repository for <a href="https://github.com/jnorton001/pycaption-cli">pycaption-cli</a> to your desktop. This module adds a command line interface for the <code>pycaption</code> module.</li>
                    <li>At the command line, change the directory to the folder where you cloned the <code>pycaption</code> repository.</li>
                    <li>
                        <p>To install this Python module on a Mac, enter the following :</p>
                        <pre><code>python setup.py install</code></pre>
                        <p class="BCL-aside">If you get this error: <code>fatal error: 'libxml/xmlversion.h' file not
      found</code> on a Mac, you may need to install or upgrade the command line tool for Xcode. Try the entering the following command:</p>
                        <pre><code>xcode-select --install</code></pre>
                        <p class="BCL-aside">Now, you should be able to enter the original Python install command.</p>
                        <p>For Windows, use:</p>
                        <pre><code>setup.py install</code></pre></li>
                    <li>At the command line, change the directory to the folder where you cloned the <code>pycaption-cli</code> repository.</li>
                    <li>
                        <p>You will update the command line interface module to read and write WebVTT files. On your computer, locate the <code>pycaption-cli/pycapcli/caption_converter.py</code> file and replace it with this code:</p>
                        <p class="BCL-aside">You can also download the new <a href="https://gist.github.com/bcls/28e9662595562c2fdb3f">caption_converter.py</a> file with WebVTT code.</p>
                        <p><code data-gist-id="28e9662595562c2fdb3f" data-gist-hide-footer="true"></code></p>
                    </li>
                    <li>To install this Python module, enter the same command you used in step 6.</li>
                </ol>
            </div>

            <div id="convertfiles" class="section">
                <h2>Convert files</h2>
                <p>Now, you are ready to convert captions files from one format to another.</p>
                <ol>
                    <li>
                        <p>On your computer, locate your captions file. In this example, we are converting a DFXP/TTML file to WebVTT format. Here is a sample DFXP/TTML file:</p>
                        <p><code data-gist-id="a47b3110b7c8c521d38c" data-gist-hide-footer="true" data-gist-line="1-22"></code></p>
                    </li>
                    <li>
                        <p>At the command line, enter the following:
                            <p>
                                <pre><code>pycaption &lt;pathtocaptionfile&gt; --webvtt &gt; output_file.vtt</code></pre></li>
                    <li>
                        <p>In an editor, browse the <code>output_file.vtt</code> contents. You should see your new WebVTT captions.
                            <p>
                                <p><code data-gist-id="a47b3110b7c8c521d38c" data-gist-hide-footer="true" data-gist-line="26-56"></code></p>
                    </li>
                </ol>
                <p>The <code>pycaption</code> module along with the command line interface provide a simple way to convert your closed captions files to different formats.</p>
            </div>

            <div class="section" id="BCLreferences">
                <h2>Related topics</h2>
                <ul>
                    <li> <a href="../../brightcove-player/guides/adding-captions-to-videos.html">Add Captions to Videos</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.0/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site-v1.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script type="text/javascript">
        /******** Any scripts specific to page samples should go here *********/
    </script>


    <iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
    <script>
        
        var cSat = document.getElementById('CSAT'),
            cSatSrc = cSat.getAttribute('src'),
            pageurl = window.location.href;
        cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
        
    </script>
    <br>
    <br>
    <div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
    <script>
        var feedbackMail = document.getElementById("feedbackMail");
        feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
    </script>
</body>

</html>
