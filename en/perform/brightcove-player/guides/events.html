<!DOCTYPE html>
<html lang="en">

<head>


  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>Understanding Player Events</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

  <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>

<body>
  <!-- header navbar -->
  <div id="navWrapper" class="fixed"></div>
  <!-- breadcrumbs -->
  <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
  <!-- search -->
  <div id="searchModal" class="reveal-modal" data-reveal></div>
  <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
      <div id="top" class="section">
          <h1>Understanding Player Events</h1>
          <p>The Brightcove player has many events for you to control video playback. This topic provides an overview about the different types of events.</p>
          <p>A complete list of Brightcove player events can be found in the <a href="../reference/api/player.html#eventsSection">Player Methods/Events API</a> reference document. This document reflects the events that are part of the actual code that makes up the player. This document is </p>
          <p>Other event types and special event cases are covered in rest of this document. See the left navigation for the section list.</p>
      </div>
      <div id="mediaevents" class="section">
        <h2>Media events</h2>
          <p>The <a href="https://html.spec.whatwg.org/multipage/">HTML Living Standard</a> document is a great resource for information about the development of HTML and the APIs needed for web applications. This is a "living" document that is kept current by the Web Hypertext Application Technology Working Group (WHATWG), which is a growing community of people interested in evolving the web.</p>
          <p>The Brightcove player runs on top of the HTML framework, which triggers the following <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#mediaevents">Media Events</a>.</p>

          <p>Here are some terms associated with events in this document:</p>
          <h3>blocked</h3>
          <p>A MediaController is considered blocked if playback has been <a href="//dev.w3.org/html5/spec-preview/media-elements.html#paused-media-controller">paused</a>. A media element is blocked if its controller is a <a href="//dev.w3.org/html5/spec-preview/media-elements.html#blocked-media-controller">blocked media controller</a>.</p>
          <h3>MediaController</h3>
            <p>A <a href="//dev.w3.org/html5/spec-preview/media-elements.html#mediacontroller">MediaController</a> is an object that coordinates the playback of multiple media elements.</p>
          <h3>media element</h3>
            <p>A <a href="//dev.w3.org/html5/spec-preview/media-elements.html#media-element">media element</a> presents audio data, or video and audio data, to the user. </p>
          <h3>slaved</h3>
            <p>By default each media element has no <code>MediaController</code>. When media elements are associated with a <code>MediaController</code>, they are said to be <a href="//dev.w3.org/html5/spec-preview/media-elements.html#slaved-media-elements">slaved</a> to the controller. The controller modifies the playback rate and volume of each of the media elements slaved to it. If one of the slaved elements stalls unexpectedly, the controller will stop the other slaved elements.</p>
      </div>

      <div id="bufferingandqosevents" class="section">
        <h2>Buffering and QoS events</h2>
            <p>Here is a subset of events related to buffering and quality of service (QoS):</p>
          <table class="bufferingEventsTable">
            <thead>
                <tr>
                    <th style="width: 40%;" scope="col"><strong>Event name</strong></th>
                    <th style="width: 60%;" scope="col"><strong>Description</strong></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-progress">progress</a></code></td>
                    <td>Buffering (loading) video data</td>
                </tr>
                <tr>
                    <td><code><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-waiting">waiting</a></code></td>
                    <td>Waiting momentarily for requested video data</td>
                </tr>
                <tr>
                    <td><code><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-stalled">stalled</a></code></td>
                    <td>Buffering stalled</td>
                </tr>
                <tr>
                    <td><code><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-error">error</a></code></td>
                    <td>Error occurred while loading video</td>
                </tr>
                <tr>
                    <td><code><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-playing">playing</a></code></td>
                    <td>Playback resumed following pause or download delay</td>
                </tr>
                <tr>
                    <td><code><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#event-media-ratechange">ratechange</a></code></td>
                    <td>Playback rate has changed (could be manual or automatic)</td>
                </tr>
            </tbody>
          </table>
      </div>

      <div id="startupevents" class="section">
        <h2>Startup events</h2>
        <p>There are a number of events that occur when the player is initialized and prepares to play a video. They are listed here in the order they will be dispatched:</p>
        <ul>
            <li>loadstart: Dispatched when the player is initialized, and if itâ€™s re-initialized in the case of giving it a new source to play</li>
            <li>loadedmetadata: Dispatched when the player has initial duration and dimension information</li>
            <li>loadeddata: Dispatched when the player has downloaded data at the current playback position</li>
        </ul>
        <p>The following CodePen shows the startup events being listened for and dispatched. Note that if you mouse over the CodePen, you can click the <strong>RERUN</strong> button located in the bottom-right to see the events dispatch again. If you wish to experiment with the code, click the <strong>Edit on CODEPEN</strong> link in the header to move to the editing environment. You can click the <strong>JS</strong> button to see the JavaScript that add the event listeners.</p>
        <p data-height="330" data-theme-id="14832" data-slug-hash="jPrdQm" data-default-tab="result" data-user="bcls" class='codepen'>See the Pen <a href='http://codepen.io/team/bcls/pen/jPrdQm/'>Startup Events Demo</a> by Brightcove Learning Services (<a href='http://codepen.io/bcls'>@bcls</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
        <script async src="//assets.codepen.io/assets/embed/ei.js"></script>
        <p class="BCL-aside">Note: It may be possible on first load of this page you will not see the <code>loadstart</code> event. This is because that event could be dispatched before the CodePen is fully rendered on the page. Click the <strong>RERUN</strong> button and you will see all three events dispatched.</p>
        <h3>ready() method</h3>
        <p>The <code>ready()</code> method has a dual personality in that it seems like an event, but you use it like a method. This method/event means the player is ready to receive commands. </p>
        <p>The <code>ready()</code> method differs from event listeners in that if the <code>ready</code> event has already happened it will trigger the <code>ready()</code> method immediately. You will often see the method used as follows to provide the starting point for development with Brightcove Player:</p>
        <pre><code>videojs('myPlayerID').ready(function(){
  var myPlayer = this;
});</code></pre>
        <p class="BCL-aside">Note: It is important to realize that if the player has to switch playback technologies, say from HTML to Flash, to play a video the <code>ready</code> method/event event handlers will rerun once the new playback tech is up and running.</p>
        <h3>ready() vs. on('loadedmetadata',...)</h3>
        <p>Note that using <code>ready()</code> functions correctly if you wish to interact with the player, for instance programmatically add a plugin. If you wish to immediately interact with the video, for instance use <code>play()</code>, the code snippet above will not always work correctly. A better approach would be to listen for the <code>loadedmetadata</code> to interact with the video, for instance:</p>
        <pre><code>videojs("myPlayerID").on('loadedmetadata',function(){
  var myPlayer = this;
  myPlayer.play();
});</code></pre>
        <p>In summary, to interact with the player you can use this:</p>
        <pre><code>videojs('myPlayerID').ready()</code></pre>
        <p>If you wish to immediately interact with the video in the player use this:</p>
        <pre><code>videojs("myPlayerID").on('loadedmetadata',function(){})</code></pre>
        <p class="BCL-aside">Note: The reason you must wait for the <code>loadedmetadata</code> event to be dispatched is that it ensures the catalog has had time to retrieve the video before it tries to play.</p>
      </div>
      <div class="section" id="fullscreenEvents">
        <h2>Fullscreen events</h2>
        <p>A <code>fullscreenchange</code> event is emitted by the player when it is toggled to or from fullscreen mode. The same event is broadcast whether the player is going to fullscreen or returning to normal mode, If it is important for you to know which happened, use the <code>player.isFullscreen()</code> method to determine whether the player is currently in fullscreen mode.</p>
        <p>The Codepen below illustrates how to do this.</p>
        <p data-height="600" data-theme-id="14832" data-slug-hash="JGEdEd" data-default-tab="result" data-user="bcls" class='codepen'>See the Pen <a href='http://codepen.io/team/bcls/pen/JGEdEd/'>Brightcove Player Fullscreen Events</a> by Brightcove Learning Services (<a href='http://codepen.io/bcls'>@bcls</a>) on <a href='http://codepen.io'>CodePen</a>.</p>
<script async src="//assets.codepen.io/assets/embed/ei.js"></script>
      </div>
      <div id="adevents" class="section">
        <h2>Ad events</h2>
          <p>To include advertisement libraries and functionality to your player, you can use the <a href="../../brightcove-player/guides/ima-plugin.html">IMA3 Plugin</a> or the <a href="../../brightcove-player/guides/freewheel-plugin.html">FreeWheel Plugin</a>. This is built on top of the <a href="https://github.com/videojs/videojs-contrib-ads/blob/master/README.md">videojs ads framework</a> (videojs-contrib-ads). Both of these advertising plugins can dispatch the ad events shown in the following table. Each also have specific events particular to the implementation.</p>
          <table class="table-styles">
            <thead>
              <tr>
                <th style="width:35%">Event</th>
                <th style="width:65%">Dispatched when:</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ads-request</td>
                <td>Upon request ad data.</td>
              </tr>
              <tr>
                <td>ads-load</td>
                <td>When ad data is available following an ad request.</td>
              </tr>
              <tr>
                <td>ads-ad-started</td>
                <td>An ad has started playing.</td>
              </tr>
              <tr>
                <td>ads-ad-ended</td>
                <td>An ad has finished playing.</td>
              </tr>
              <tr>
                <td>ads-pause</td>
                <td>An ad is paused.</td>
              </tr>
              <tr>
                <td>ads-play</td>
                <td>An ad is resumed from a pause.</td>
              </tr>
              <tr>
                <td>ads-first-quartile</td>
                <td>The ad has played 25% of its total duration.</td>
              </tr>
              <tr>
                <td>ads-midpoint</td>
                <td>The ad has played 50% of its total duration.</td>
              </tr>
              <tr>
                <td>ads-third-quartile</td>
                <td>The ad has played 75% of its total duration.</td>
              </tr>
              <tr>
                <td>ads-click</td>
                <td>A viewer clicked on the playing ad.</td>
              </tr>
              <tr>
                <td>ads-volumechange</td>
                <td>The volume of the playing ad has been changed.</td>
              </tr>
              <tr>
                <td>ads-pod-started</td>
                <td>The first ad in a linear ad pod (a sequenced group of ads) has started.</td>
              </tr>
              <tr>
                <td>ads-pod-ended</td>
                <td>The last ad in a linear ad pod (a sequenced group of ads) has finished.</td>
              </tr>
              <tr>
                <td>ads-allpods-completed</td>
                <td>All linear ads have finished playing.</td>
              </tr>
            </tbody>
          </table>
      </div>
      <div id="bc-catalog-error" class="section">
        <h2>bc-catalog-error event</h2>
        <p>It is possible that handling errors in the normal <code>ready()</code> section in the script block can cause issues. For instance, it can happen that the <code>bc-catalog-error</code> event could be dispatched before the player is ready, and if you listen for the error in the <code>ready()</code> section, you will not be able to handle the error. This issue can occur when using geo-filtering, a video is unpublished, a video is out of scheduling range, or in a different account. For a complete discussion and examples handling the <code>bc-catalog-error</code> event, see the <a href="../../brightcove-player/guides/player-catalog.html#catalog-error">Player Catalog</a> document.</p>
      </div>
      <div id="progresstimeupdate" class="section">
        <h2>progress and timeupdate</h2>
        <p>Confusion can occur about the differences between the <code>progress</code> and <code>timeupdate</code> events. The Brightcove Player builds on top of HTML5 video, and in that standard the <code>progress</code> event is dispatched when the browser is downloading data. The <code>timeupdate</code> event is dispatched when the current playback position has changed.</p>
        <p>This can be confusing to users of Brightcove's Smart Player, as in that API the <code>progress</code> event does what <code>timeudpate</code> does in the Brightcove Player API.</p>
      </div>
    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
  <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site-v1.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script type="text/javascript">
    /******** Any scripts specific to page samples should go here *********/
  </script>
    <div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
    <script>
    var feedbackMail = document.getElementById("feedbackMail");
    feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
    </script>
    </body>

</html>
