<!DOCTYPE html>
<html lang="en">

<head>

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
	<!-- change title to match the h1 heading -->
	<title>Display Error Messages Plugin</title>
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
	<script src="//use.edgefonts.net/source-code-pro.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
	<!-- content -->
	<div class="row">
		<div class="sidebar large-2 columns show-for-large-up">
			<div id="sidenav" class="side-nav"></div>
		</div>
		<div id="main" class="large-10 small-12 columns">
			<div id="top" class="section">
				<h1>Display Error Messages Plugin</h1>
				<!-- Place document intro sentence(s) here -->
				<p>The error messages plugin allows the player to display user-friendly messages when it encounters an error. The default style sheet displays messages as a semi-transparent overlay on top of the video element itself. You can change existing message text and add your own styles. You can even create custom messages that are triggered when you want.</p>
				<div><img src="/en/video-cloud/brightcove-player/assets/error-message-plugin.png" alt="error message plugin"></div>
				<p>The error message shown in the image above was created by updating the player with an invalid <code>src</code> value in the <code>sources</code> property.</p>
				<p>The error messages plugin is a default plugin and is automatically loaded with the Brightcove player. However, you can choose not to load it. Without this plugin, you will see a limited set of error messages and some errors will only appear in the browser console. For details on how to not load a default plugin when you create a player, see the <a href="plugin-guide.html#defaultplugins">Player Plugin Overview</a> document.</p>
			</div>

		<div id="getstarted" class="section">
        <h2>Get started</h2>
		  	<p>It is best practice to update your player using the Brightcove Players module from <span class="video-cloud-only">Video Cloud</span><span class="perform-only">Perform</span> Studio. This approach is used in the following sections to update the error messages plugin for your player. This will update all instances of your player. If you choose to update this plugin from a page of code, it will only affect that instance of your player</p>
				<p>To update the plugin from your page code, first get a reference to the Brightcove player. In this example, in the JavaScript we are creating a variable named <code>myPlayer</code> and assigning it a reference to the player.</p>
			<p class="BCL-aside">Note: you do not need to do this if you are updating your Brightcove player using the Players module.</p>
				<p><code data-gist-id="89b496092aee326f7216" data-gist-hide-footer="true" data-gist-line="54-65" data-gist-highlight-line="54,65"></code></p>
        </div>

      <div id="standarderrors" class="section">
        <h2>Standard errors</h2>
        <p>This plugin has a set of default error messages for the standard HTML5 video errors based on the runtime error code value:</p>
			<ul>
				<li>Error code: 1
				<ul>
					<li>Message: MEDIA_ERR_ABORTED</li>
					<li>Description: The video download was cancelled</li>
				</ul></li>
				<li>Error code: 2
				<ul>
					<li>Message: MEDIA_ERR_NETWORK</li>
					<li>Description: The video connection was lost, please confirm you're connected to the internet</li>
				</ul></li>
				<li>Error code: 3
				<ul>
					<li>Message: MEDIA_ERR_DECODE</li>
					<li>Description: The video is bad or in a format that can't be played on your browser</li>
				</ul></li>
				<li>Error code: 4
				<ul>
					<li>Message: MEDIA_ERR_SRC_NOT_SUPPORTED</li>
					<li>Description: This video is either unavailable or not supported in this browser</li>
				</ul></li>
				<li>Error code: 5
				<ul>
					<li>Message: MEDIA_ERR_ENCRYPTED</li>
					<li>Description: The video you're trying to watch is encrypted and we don't know how to decrypt it</li>
				</ul></li>
			</ul>
		    <p>If an error does not have an associated error code, a generic message is displayed:</p>
			<ul>
				<li>Error code: unknown
				<ul>
					<li>Message: MEDIA_ERR_UNKNOWN</li>
					<li>Description: An unanticipated problem was encountered, check back soon and try again</li>
				</ul></li>
			</ul>

      </div>

	  <div id="overridetext" class="section">
        <h2>Override text</h2>
        <p>There are three parts of the error message that you can change:</p>
		<ul>
			<li><code>headline</code> : This is the message text at the top.</li>
			<li><code>type</code> : This is the <strong>Error Code:</strong> text.</li>
			<li><code>message</code> : This is the <strong>Technical details:</strong> text.</li>
		</ul>
		<div><img src="/en/video-cloud/brightcove-player/assets/error-message-plugin2.png" alt="error message plugin2"></div>
		<p>Once your player is created, in Studio edit the <strong>Plugins</strong> section of the <strong>Players</strong> module with a JSON object to set property values.</p>
				<p>The example below shows how to override the message text for the standard error with an error code value of <code>4</code>. The properties are defined as follows:</p>
				<ul>
				    <li><code>plugins</code>: This property contains an array of properties and values. For this plugin, you only need to supply the <code>name</code> property with the value of <code>errors</code>.</li>
				    <li><code>options</code>: This property is used to pass data to the plugin.</li>
				    <li><code>errors</code>:  This property defines the error code that you want to update. Here we are overriding the message text for the <code>headline</code>, <code>type</code>, and <code>message</code>.<p class="BCL-aside">Note: the error code can be any string value, such as overriding the text for the <code>unknown</code> message.</p></li>
				</ul>
          <br/>
		<p><code data-gist-id="89b496092aee326f7216" data-gist-hide-footer="true" data-gist-line="139-147"></code></p>
		<p>If you include the errors script in your code, you can override message text as follows:</p>
		<p><code data-gist-id="89b496092aee326f7216" data-gist-hide-footer="true" data-gist-line="67-75"></code></p>
      </div>

	  <div id="customerrors" class="section">
        <h2>Custom errors</h2>
        <p>You can also define your own custom error messages:</p>
		    <ul>
				<li>Custom error code values can be alphanumeric. We recommend using a negative integer or a text value to keep from colliding with the standard code values.</li>
				<li>Custom error messages can be named anything you want. We recommend that they begin with <code>PLAYER_ERR</code> versus the standardized <code>MEDIA_ERR</code> to avoid confusion.</li>
			</ul>
		<p>Two custom error messages have been added as a reference:</p>
			<ul>
				<li>Error code: -1
				<ul>
					<li>Message: PLAYER_ERR_NO_SRC</li>
					<li>Description: No video has been loaded</li>
				</ul></li>
				<li>Error code: -2
				<ul>
					<li>Message: PLAYER_ERR_TIMEOUT</li>
					<li>Description: Could not download the video <br />
          <p class="BCL-aside">Note: The timeout is 45 seconds.</p></li>
				</ul></li>
			</ul>

		<h3>Adding custom errors</h3>
          <p>Refer to the <a href="#overridetext">Override text</a> section for details about the message parts. When adding a custom error message, use the <strong>Plugins</strong> section of the <strong>Players</strong> module with a JSON object to set property values.</p>
          <p>This example creates a new custom message with an error code value of <code>-3</code> and includes text based on an age gate test.</p>

		  <p><code data-gist-id="89b496092aee326f7216" data-gist-hide-footer="true" data-gist-line="151-159"></code></p>
		  <p>If you include the errors script in your code, you can add custom messages as follows:</p>
		  <p><code data-gist-id="89b496092aee326f7216" data-gist-hide-footer="true" data-gist-line="110-121"></code></p>
		  <h3>Displaying custom errors</h3>
          <p>When you define custom errors, you need to let video.js know when you want to display it. To do this, create your own code to determine when the message should be displayed. Then use the <code>error()</code> function to display the message as follows:</p>

		  <p><code data-gist-id="89b496092aee326f7216" data-gist-hide-footer="true" data-gist-line="123-130"></code></p>
		  <p>Here we set the <code>age_appropriate</code> variable to <code>false</code>, but you would add your own code to determine when to display your custom error messages.</p>
		  <p class="BCL-aside">Note: any code to throw custom errors must wait for the video to load. Use the <code>loadstart</code> event to determine this. If you try to display your message without waiting, then your message will dissappear after the video loads.</p>
      </div>

      <div id="dispatcherror" class="section">
        <h2>Dispatch errors</h2>
        <p>In development you may wish to dispatch errors to test if your configuration changes are successful. You can do this using code similar to that shown in the following code snippet. In this case, a button is added to the code so you can dispatch the error at a chosen time.</p>
			  <p><code data-gist-id="89b496092aee326f7216" data-gist-hide-footer="true" data-gist-line="164-182"></code></p>
      </div>

	  <div id="knownissues" class="section">
        <h2>Known issues</h2>
		<p>On Android devices and iPhones, the tap events for error messages do not bubble up to the parent video element. This means that you can not close an error message once it appears. This behavior may be a problem if the user is in fullscreen mode, because they will have no way to leave this state.</p>
		  <p>This issue is currently being worked on and should be fixed in a future player release. For now, you can try a work-around like this:</p>
		  <p><code data-gist-id="89b496092aee326f7216" data-gist-hide-footer="true" data-gist-line="188-193"></code></p>
      </div>

			<div class="section" id="BCLreferences">
				<h2>Related Topics</h2>
				<ul>
					<li> <a href="plugin-dev-quick-start.html#passdatatoplugin">Quick Start to Plugin Development</a>
					</li>
					<li> <a href="../../player-management/getting-started/player-mgmt-quick-start.html#customizePlayer">Quick Start to Player Management - Plugin Section</a>
					</li>
					<li> <a href="plugin-guide.html">Player Plugin Overview</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<!-- bcl scripts -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.0/fastclick.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
	<script src="/en/scripts/log.js"></script>
	<script src="/en/scripts/docs-nav-data.min.js"></script>
	<script src="/en/scripts/bcls-doc-site-v1.js"></script>
	<script src="/en/scripts/bc-mapi.js"></script>
	<script>
		$(document).foundation();
	</script>
	<script type="text/javascript">
		/******** Any scripts specific to page samples should go here *********/
	</script>


<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
