<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title>Logo Overlay Plugin</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css" />
    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-2728311-29', 'auto');
        ga('send', 'pageview');

    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
    <style type="text/css">
        iframe,
        video, .video-js {
            width: 600px;
            height: 338px;
        }


    </style>
    <link href="./assets/logo-overlay-plugin/custom-overlay.css" rel="stylesheet" type="text/css" />
</head>

<body>
    <!-- header navbar -->
    <div id="navWrapper" class="fixed"></div>
    <!-- breadcrumbs -->
    <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
    <!-- search -->
    <div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div id="top" class="section">
                <h1>Logo Overlay Plugin</h1>
                <!-- Place document intro sentence(s) here -->
                <p>This topic covers the use of a logo-overlay plugin that uses the standard Overlay plugin to display a logo-overlay for videos, with an optional click-through URL.</p>
                <p>The plugin can be used to display any web-ready image overlay on top of the player. You can control the display of the message based on:</p>
                <ul>
                    <li>Player events - such as <code>play</code>, <code>pause</code> or custom events</li>
                    <li>Time interval - at a specified time during video playback</li>
                </ul>
                <p>The sample video below demonstrates the use of the logo overlay plugin to display a video logo-overlay. In this sample, the logo is displayed immediately, then fades out after 5 seconds.</p>
                <p class="BCL-aside">Note: currently, the CMS and Playback APIs do not return information about logo overlays added to videos using the old Studio or Media API, so we will simply use an image posted to a public URL.</p>
                <iframe src="//players.brightcove.net/1752604059001/N1Asjajhx_default/index.html?videoId=4511351172001" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
                <!-- <video id="video_1" data-video-id="4511351172001" data-account="1752604059001" data-player="N1Asjajhx" data-embed="default" class="video-js" controls></video>
                <script src="//players.brightcove.net/1752604059001/N1Asjajhx_default/index.min.js"></script> -->
                <p>This topic contains the following sections:</p>
                <ul>
                    <li><a href="#playersmodule">Adding the Overlay plugin using Players module</a></li>
                    <li><a href="#implementcode">Details of the CSS and JavaScript for the logo overlay plugin</a></li>
                    <li><a href="#addLogoOverlayPlugin">Adding the logo overlay plugin using the Players module</a></li>
                </ul>
            </div>
            <div id="playersmodule" class="section">
                <h2>Add the Overlay plugin</h2>
                <p>To implement the Overlay Plugin using the Players module, follow these steps:</p>
                <ol>
                    <li>Open the <strong>Players</strong> module and create or locate the player you want to use</li>
                    <li>Click the link for the player to open the player properties.</li>
                    <li>Locate the <strong>Plugins</strong> section and click <strong>Edit</strong>.</li>
                    <li>The JavaScript for the plugin is provided and will not change for different plugin implementations. For the <strong>JavaScript URL</strong>, enter:
                        <pre><code>//players.brightcove.net/videojs-overlay/1/videojs-overlay.min.js</code></pre></li>
                    <li>There is also a standard CSS file for the Overlay plugin, but do <strong>not</strong> enter it. Instead, we'll provide custom CSS for Overlay along with logo-overlay plugin later.</li>
                    <li>For the <strong>Name</strong>, enter <strong>overlay</strong>.</li>
                    <li>Enter the plugin options. The example below will display a clickable image at the bottom of the player when the player loads and disappear at the 10 second mark.
                        <br/>
<pre><code>{
  "overlays": [
    {
      "align": "bottom",
      "start": "loadstart",
      "end": 10,
      "content": "<a href='//docs.brightcove.com'><img src='//docs.brightcove.com/en/video-cloud/brightcove-player/samples/assets/logo-overlay-plugin/bc-logo.png'></a>"
    }
  ]
}</code></pre>
                        <div><img src="/en/video-cloud/brightcove-player/guides/assets/overlay-plugin.png" alt="Overlay Plugin"></div>
                    </li>
                    <li>Click <strong>Save</strong> and then <strong>Publish</strong> the player.</li>
                </ol>
            </div>
            <div id="implementcode" class="section">
                <h2>Implement using code</h2>
                <p>To implement the plugin using custom code, you will configure the following plugin properties:</p>
                <ul>
                    <li><code>scripts</code> - JavaScript supplied for the plugin and will not change for different plugin implementations</li>
                    <li><code>stylesheets </code>- CSS supplied to you for the plugin and will not change for different plugin implementations</li>
                    <li><code>plugin name</code> - Always <strong>overlay</strong></li>
                    <li><code>plugin options</code> - Contains an array of properties and values</li>
                </ul>
                <p>To add the plugin to your code, follow these steps:</p>
                <ol>
                    <li>Add the overlay plugin default style sheet. You can use the default style sheet, or create your own styles.
                        <p><code data-gist-id="9b0fe987da18427d2df6" data-gist-hide-footer="true" data-gist-line="57"></code></p>
                    </li>
                    <li>Add the <code>videojs-overlay.js</code> script file to include the overlay plugin. This plugin will automatically register itself when included in your page.
                        <p class="BCL-aside">Note: This plugin script must be placed after the last <code>&lt;script&gt;</code> tag for your player embed code.</p>
                        <p><code data-gist-id="9b0fe987da18427d2df6" data-gist-hide-footer="true" data-gist-line="62-71" data-gist-highlight-line="71"></code></p>
                    </li>
                    <li>Get a reference to the Brightcove player. In this example, we are creating a variable named <code>myPlayer</code> and assigning it a reference to the player.
                        <p><code data-gist-id="9b0fe987da18427d2df6" data-gist-hide-footer="true" data-gist-line="73-75"></code></p>
                        <p>To display an overlay message, use the <code>options</code> property to pass data to the plugin. This example shows how to include 3 overlay messages:</p>

                        <ul>
                            <li>First overlay:
                                <ul>
                                    <li>This is displayed when the <code>play</code> event is dispatched and is hidden when the <code>pause</code> event is dispatched.</li>
                                </ul>
                            </li>
                            <li>Second overlay:
                                <ul>
                                    <li>This is displayed when the video playback passes 5 seconds and is hidden when the video playback passes 10 seconds.</li>
                                    <li>This is positioned in the bottom right corner of the player.</li>
                                </ul>
                            </li>
                            <li>Third overlay:
                                <ul>
                                    <li>This is displayed when the video playback passes 12 seconds and is hidden when the video playback passes 17 seconds.</li>
                                    <li>This is positioned in the bottom left corner of the player.</li>
                                    <li>Since this overlay does not have a <code>content</code> property defined, it uses the default value of <strong>Default overlay content</strong>, defined before the <code>overlays</code> array.</li>
                                </ul>
                            </li>
                        </ul>
                        <br/>
                        <p>If you include the overlay script in your code, you can define messages as follows:</p>
                        <p><code data-gist-id="9b0fe987da18427d2df6" data-gist-hide-footer="true" data-gist-line="73-95"></code></p>
                    </li>
                </ol>
            </div>

            <div id="addLogoOverlayPlugin" class="section">
                <h2>Add the logo overlay plugin</h2>
                <p>The following plugin properties are used to control the overlay object:</p>
                <ul>
                    <li><code>start</code>:
                        <ul>
                            <li>The value can be a string or number.</li>
                            <li>This defines when to show an overlay. If the value is a string, it is interpreted as an event name. If it is a number, the overlay will be displayed when that time (in seconds) in the video playback has passed.</li>
                        </ul>
                    </li>
                    <li><code>end</code>:
                        <ul>
                            <li>The value can be a string or number.</li>
                            <li>This defines when to hide an overlay. If the value is a string, it is interpreted as an event name. If it is a number, the overlay will be hidden when that time (in seconds) in the video playback has passed.</li>
                        </ul>
                    </li>
                    <li><code>content</code>:
                        <ul>
                            <li>The value can be a string or DOM object.</li>
                            <li>This is the HTML that will be contained in the overlay. You can pass in a string, an HTML element or a <a href="//www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-B63ED1A3">DOM DocumentFragment</a>.</li>
                        </ul>
                    </li>
                    <li><code>align</code>:
                        <ul>
                            <li>The value must be a supported string value.</li>
                            <li>This defines where to show the overlay. If you include the default stylesheet, the following values are supported: <code>top-left</code>, <code>top</code>, <code>top-right</code>, <code>right</code>, <code>bottom-right</code>,
                                <code>bottom</code>, <code>bottom-left</code>, <code>left</code>.</li>
                        </ul>

                    </li>
                </ul>
                <p>You can use any event dispatched from the player, which are defined in the <a href='../reference/api/player.html'>Player Methods/Events API</a> document, or you can use your own custom events.</p>
                <p>All of these properties are optional, but you may get strange results if you don't include at least the <code>start</code> and <code>end</code> properties.</p>
            </div>
            <div id="displaymetadata" class="section video-cloud-only">
                <h2>Display video metadata</h2>
                <p>You may wish to display information about the video in the overlay. For instance, display the name of the video before the video starts to play, as shown in the <strong>screenshot</strong> below.</p>
                <div><img src="/en/video-cloud/brightcove-player/guides/assets/overlay-showing-video-name.png" alt="overlay with video name"></div>
                <p>The following section explains how to do that particular task, but moreover, once you have data from the <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/mediainfo.html">mediainfo</a> property, any video metatdata
                    could be displayed whenever you choose.</p>
                <ul>
                    <li>Line 112: Include the CSS for the overlay plugin.</li>
                    <li>Lines 113-132: CSS to perform the following:
                        <ul>
                            <li>Change the size of the player</li>
                            <li>Set the font size and color for the video title in the overlay</li>
                            <li>Set the width of the overlay</li>
                            <li>Position the play button so it does not interfere with the overlay with the title</li>
                        </ul>
                    </li>
                    <li>Lines 136-142: Standard in-page embed code used. Note an <code>id</code> is added.</li>
                    <li>Line 143: Specify the source for the JavaScript code for the overlay plugin.</li>
                    <li>Lines 146,147,159: Standard setup for using code with the player.</li>
                    <li>Lines 148,158: Use the player catalog to get the video and use an anonymous callback function. Note the video ID from the <code>&lt;video&gt;</code> tag is used via the <code>options()</code> method.</li>
                    <li>Line 150: Use the player catalog's <code>load()</code> method, which populates the <code>mediainfo</code> property.</li>
                    <li>Lines 151,157: Call the <code>overlay()</code> method.</li>
                    <li>Lines 152-156: Define a single overlay using the <code>content</code> to display the name of the video using the JavaScript variable <code>myPlayer.mediainfo.name</code>. The overlay will display once the video is loaded (<code>start: 'loadedmetadata'</code>)
                        and disappear once the video starts (<code>end: 'play'</code>).</li>
                </ul>
                <p><code data-gist-id="9b0fe987da18427d2df6" data-gist-hide-footer="true" data-gist-line="106-163"></code></p>
            </div>
            <div class="section" id="BCLreferences">
                <h2>Related Topics</h2>
                <ul>
                    <li> <a href="plugin-dev-quick-start.html#passdatatoplugin">Quick Start to Plugin Development</a>
                    </li>
                    <li> <a href="../../player-management/getting-started/player-mgmt-quick-start.html#customizePlayer">Quick Start to Player Management - Plugin Section</a>
                    </li>
                    <li> <a href="plugin-guide.html">Plugin Guide</a>
                    </li>
                    <li class="video-cloud-only"> <a href="//docs.brightcove.com/en/video-cloud/brightcove-player/guides/mediainfo.html">Video Metadata</a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.0/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site-v1.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();

    </script>
    <!-- <script type="text/javascript">
    var myPlayer,
        overlayOptions,
        overlayContent,
        inputOptions = {
            align: 'bottom-right',
            imageURL : '//docs.brightcove.com/en/video-cloud/brightcove-player/samples/assets/logo-overlay-plugin/bc-logo.png',
            clickThruURL: '',
            start: 'loadstart',
            end: 5
        },
        defaultOptions = {
            align: 'bottom-right',
            imageURL : '//docs.brightcove.com/en/video-cloud/brightcove-player/samples/assets/logo-overlay-plugin/bc-logo.png',
            clickThruURL: '//docs.brightcove.com/en/index.html',
            start: 'loadstart',
            end: 'ended'
        };

        function showOverlay(startValue) {
            myPlayer.overlay(
                {
                    content: overlayContent,
                    overlays: [
                        {
                            start: startValue,
                            align: overlayOptions.align
                        }
                    ]
                }
            )

            myPlayer.on('timeupdate', function(evt) {
                if (isDefined(parseInt(overlayOptions.end)) && myPlayer.currentTime() >= overlayOptions.end) {
                    myPlayer.off('timeupdate');
                    document.getElementsByClassName('vjs-overlay')[0].className += ' bcls-hide-overlay';
                }
            });
        }

        /**
         * tests for all the ways a variable might be undefined or not have a value
         * @param {*} x the variable to test
         * @return {Boolean} true if variable is defined and has a value
         */
        function isDefined(x) {
            if ( x === '' || x === null || x === undefined || x === NaN) {
                return false;
            }
            return true;
        }

        /**
         * populates a settings object from inputs or default values
         * @param {Object} inputOptions the input values
         * @param {Object} defaultOptions the default values
         * @return {Object} the settings object
         */
        function setOptions (inputOptions, defaultOptions) {
            var prop, settings = {};
            for (prop in defaultOptions) {
                if (defaultOptions.hasOwnProperty(prop)) {
                    settings[prop] = (inputOptions.hasOwnProperty(prop)) ? inputOptions[prop] : defaultOptions[prop];
                }
            }
            return settings;
        }
    videojs("video_1").ready(function(){
        myPlayer = this;

        overlayOptions = setOptions(inputOptions, defaultOptions);

        if (isDefined(overlayOptions.clickThruURL)) {
            overlayContent = '<a href="' + overlayOptions.clickThruURL + '"><img src="' + overlayOptions.imageURL + '" /></a>';
        } else {
            overlayContent = '<img src="' + overlayOptions.imageURL + '" />'
        }

        showOverlay(overlayOptions.start);

    });

    </script> -->
    <div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
    <script>
        var feedbackMail = document.getElementById("feedbackMail");
        feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));

    </script>
</body>

</html>
