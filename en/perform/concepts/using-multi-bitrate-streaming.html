<!DOCTYPE html>
<html lang="en">

<head>
    
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
  <!-- change title to match the h1 heading -->
  <title>Using Multi-bitrate Streaming</title>
  <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/normalize.css" />
  <script src="//use.edgefonts.net/source-code-pro.js"></script>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

  <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2728311-29', 'auto');
  ga('send', 'pageview');

</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
  </head>

<body>
	<!-- header navbar -->
	<div id="navWrapper" class="fixed"></div>
	<!-- breadcrumbs -->
	<nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
	<!-- search -->
	<div id="searchModal" class="reveal-modal" data-reveal></div>
	<!-- content -->
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
      <div id="top" class="section">
        <h1>Using Multi-bitrate Streaming</h1>
      </div>
      
      <p>The Video Cloud multi-bitrate streaming feature improves a viewer's experience by enabling you to deliver videos with the resolution and bit rate that best matches the viewer's connection speed. The videos in your Media Library can include one or more renditions encoded at different bit rates and sizes. You have fine-grained control over the settings for each rendition, including codec, codec profile, video and audio bit rate, width and height, frame rate, and more. When you upload videos, the Brightcove Adaptive Encoding Engine can automatically create multiple renditions from the source video. The Video Cloud player automatically selects the highest quality rendition that the viewer's download connection speed can support, taking into account the rendition's resolution and bit rate. You can use multi-bitrate streaming with on-demand video, <a href="//support.brightcove.com/en/video-cloud/docs/delivering-live-streams">live video</a>, or <a href="//support.brightcove.com/en/video-cloud/docs/delivering-live-streaming-video-dvr">live video with&nbsp;DVR</a>.</p>
     
      <div id="about" class="section">
        <h2><a name="about"></a>How it works</h2>
        <p>In this section you will learn how multi-bitrate streaming works. When a player plays a multi-bitrate streaming video (one that has multiple renditions available), Video Cloud selects the best available rendition based on the viewer's detected bandwidth. Video Cloud uses this procedure to select the best rendition:</p>
        <ol>
        <li>Eliminate renditions with a bit rate greater than 85% of the detected download connection speed.</li>
        <li>From the remaining renditions, select the rendition with the highest bit rate, taking into account possible loss of quality if there is a mismatch between the rendition dimensions and the size of the video display.</li>
        </ol>
        <p>For example, suppose the bandwidth detected is 768 kbps. We have the following renditions available:</p>
        <ol>
        <li>1280x960 1.8 Mbps</li>
        <li>640x480 1200 kbps</li>
        <li>640x480 800 kbps</li>
        <li>480x360 512kbps</li>
        <li>320x240 350 kbps</li>
        <li>320x240 264 kbps</li>
        </ol>
        <p>Rendition #1, #2 and #3 are eliminated because they have a bit rate greater than 85% of the detected 768 kbps bandwidth. Rendition #4 is selected, because it is the highest bit rate rendition remaining.</p>
        <p>The frame size can also be used as part of the rendition selection process. If the frame size is an exact match for a particular rendition, that rendition will be considered to be slightly more desirable since there is a small penalty in quality for downsizing. For the exact-size rendition to be chosen, its bitrate must be at least 64% of the highest bitrate rendition available, given the user's environment. In other words, if a 1000 kbps rendition that is larger than my video player is selected, in order to downshift to a rendition that exactly matches the player size it must be at least 640 kbps. For a high quality video and a small rendition, publishers should have a high bitrate rendition that matches the video player size.</p>
        <p class="BCL-aside">Note: Multi-bitrate streaming is supported only in AS 3.0 player templates. If you play a multiple rendition video in an AS 2.0 player template (available to customers prior to Brightcove 3), the player chooses the rendition closest to our recommended specification of 480x360 resolution, 512 kbps bit rate.</p>
        <h4>Example: Switching to Full Screen</h4>
        <p>The Video Cloud players include a button that viewers can click to switch to a full-screen view of the video. (The full screen button is present by default, but you have the option to <a href="//support.brightcove.com/en/video-cloud/docs/editing-settings-players#fullscreen">remove it from a player</a>.)</p>
        <div><img width="449" height="132" alt="" src="//img.brightcove.com/pubm-fullscreen.jpg" /></div>
        <p>Suppose you have an in-page player that is 480x360 pixels, and the player is configured to use streaming to play a video that has available six multi-bitrate streaming renditions. The viewer clicks the Full Screen button in the player. The size of the player is now 1280x960; the video switches over to the highest quality, 1280x960 1.8 Mbps rendition, assuming:</p>
        <ul>
        <li>the video is delivered with streaming; progressive download doesn't support switching in mid-stream; and</li>
        <li>the viewer has at least 2.12 Mbps of download connection speed (so that the 1.8 Mbps specified by the highest quality rendition is not more than 85% of the detected bandwidth).</li>
        </ul>
        <p>Remember that you can <a href="//support.brightcove.com/en/video-cloud/docs/editing-settings-players-video-player-tab#fullscreen">disable full-screen mode</a> for a player if you want to prevent high resolution, high bit rate renditions from being served.</p>
        <p>For more examples of rendition switching behavior, see <a href="//support.brightcove.com/en/video-cloud/docs/multi-bitrate-rendition-switching-logic">Multi-Bitrate Rendition Switching Logic</a>.</p>
        <h4>Rendition selection without bandwidth detection</h4>
        <p>Video Cloud handles multi-bitrate streaming differently, depending on whether you deliver your videos with streaming or with progressive download:</p>
        <ul type="disc">
        <li>With streaming, Video Cloud can adapt in mid-stream, switching dynamically to a different rendition when the viewer, for example, switches from small screen to full screen.</li>
        <li>With progressive download, Video Cloud attempts to identify the viewer's download bandwidth and selects the best rendition when playback begins. Because the rendition is continuously served to the viewer's download cache, we can't smoothly switch to a different rendition once playback has begun.</li>
        <li>With either&nbsp;streaming or progressive download, if the download bandwidth isn't detected, Video Cloud delivers the rendition closest to 704 kbps.</li>
        </ul>
        <h4><a name="dynamicStreaming"></a>Dynamic streaming</h4>
        <p>Video Cloud players using streaming can take advantage of advanced smooth streaming capabilities enabled by Flash Media Server 3.5 and Flash Player 10. Dynamic streaming improves bandwidth detection, while also detecting dropped frames, which are a symptom of too-high CPU usage on the client. Dynamic streaming is enabled by default in all players; if you want to disable these capabilities in a player, you need to <a href="//support.brightcove.com/en/video-cloud/docs/player-configuration-parameters">modify the player's publishing code</a>, setting the <a href="//support.brightcove.com/en/video-cloud/docs/player-configuration-parameters#dynamicStreaming">dynamicStreaming player configuration parameter</a> to&nbsp;&quot;false&quot; in the publishing code. </p>
      </div>
      
      <div id="create" class="section">
        <h2><a name="create"></a>Multiple renditions</h2>
        <p>In this section you will learn how to create multiple renditions for multi-bitrate streaming. When you use the Media module to upload any video file that isn't FLV, you can click the <strong>Upload Settings</strong> button in the Upload dialog to control whether to create multiple renditions for multi-bitrate streaming. If the video files you are uploading are all FLVs, the Edit Settings option is not available. See <a href="//docs.brightcove.com/en/video-cloud/batch-provisioning/samples/multi-bitrate-streaming.html">Using Multi-Bitrate Streaming with Batch Provisioning</a> for information about what to do if you want to upload your files using batch provisioning or if your video files are already in FLV format. Also note that Video Cloud Pro and Enterprise publishers can <a href="//support.brightcove.com/en/video-cloud/docs/creating-videos-multi-bitrate-streaming-media-api">use the Media API to upload a video, which Video Cloud can transcode into multiple renditions for multi-bitrate streaming</a>.</p>
        <p>When you click the <strong>Upload Settings</strong> button, the Upload Settings dialog displays:</p>
        <div><img alt="Upload Settings" src="//img.brightcove.com/node2880-upload-settings.png" /></div>
        <p>In the Upload Settings dialog, you can choose for your video file to be processed as:</p>
        <ol>
        <li>a single rendition</li>
        <li>multiple renditions</li>
        </ol>
        <h4><a name="settings"></a>Transcode settings</h4>
        <p>If you select a single rendition, Video Cloud automatically transcodes each non-FLV video you upload into a single file. You can choose whether the resulting transcoding file should be a H.263 (FLV) or H.264 (MP4) file.</p>
        <p>If you select multiple renditions, Video Cloud transcodes each non-FLV video you upload, creating up to ten different renditions of your video. Renditions are processed in the order listed on the Video Cloud Studio's Account Settings: Transcode Settings page for your account. The rendition listed first is called the <em>primary rendition</em>. See <a href="//support.brightcove.com/en/video-cloud/docs/standard-transcode-settings">Standard&nbsp;Transcode Settings</a> for a listing of the default settings we use.</p>
        <p>Note: although the renditions are <strong>processed</strong> in the order listed in your transcode settings, higher bitrate renditions take longer to create, so the actual creation order of the renditions will vary.</p>
        <p>On the Video Cloud Studio's Account Settings: Transcode Settings page, you can view and modify the specific settings you want Video Cloud to use when we transcode videos that you upload. <a href="//support.brightcove.com/en/video-cloud/docs/setting-your-transcoding-options">Read more about setting the transcode options for your videos</a>.</p>
        <p class="BCL-aside">Note:  Only Video Cloud Pro and Enterprise publishers can modify their transcode settings in Video Cloud Studio.</p>
      </div>

      <div id="preserve" class="section">
        <h2><a name="preserve"></a>Preserve H.264 source</h2>
        <p>This section is about preserving an H.264 source. If your source video file is in MP4 format, you can choose to keep your original source file as an available rendition. This option lets you retain an MP4 master that can be at an even higher level of quality than the highest-quality rendition from Video Cloud. In addition, when you select this option, your MP4 source video is available immediately, as soon as the upload is complete, and you don't have to wait for the video to be transcoded before it is available in the Media module and in your players.</p>
        <p>Note:  In order to add your source file as a rendition, your source file must be in H.264 format within an MP4 container and the audio should be encoded using AAC.</p>
      </div>

      <div id="process" class="section">
        <h2><a name="process"></a>Video transcoding</h2>
        <p>In this section you will learn about video transcoding process and queueing. Video Cloud transcodes your video files using variable bit rate, so the actual bit rate will vary a bit from these figures. Also note that the maximum bit rate is limited by the quality of the file you upload:</p>
        <ul>
        <li>The source file's average video bit rate must be at least 75% of the requested rendition's video bit rate, or the rendition will not be created. For example, if you upload a file with a video encoding rate of 750 kbps, Video Cloud will create renditions at 264 kbps (200 kbps video), 350 kbps (286 kbps video), 512 kbps (448 kbps video), and 800 kbps (672 kbps video), but will not create a 1200 kbps (1072 kbps video) or 1800 kbps (1672 kbps video) rendition.</li>
        <li>A rendition will not be created with dimensions greater than the source file's dimensions. For example, if you upload a file that's 960x540 and 1500 kbps, the highest-quality rendition will be 960x540 and not 1280x960.</li>
        </ul>
        <p>In order to provide a better level of service for uploads that need transcoding, Video Cloud maintains two separate queues for video transcoding. The first queue transcodes for single renditions of videos, user-generated content videos, and the primary rendition of multiple rendition videos. If you're using the default transcoding settings, the primary rendition is the 480x360 512kbps rendition. Thus, when you upload a file for multi-bitrate streaming, Video Cloud transcodes the 480x360 512kbps rendition in this first queue. As soon as this primary rendition has been processed, the video becomes available in the Media module and can be added to a player. The remaining renditions are transcoded in a second queue, so that they do not interfere with the higher priority transcoding in the first queue. As the transcoding of the other renditions is completed in the second queue, they too become available to the players in which the video is programmed. Note: transcoding higher bit rate renditions can take a considerable amount of time. The exact time it takes to transcode a rendition depends on the file size, rendition bit rate, and server load.</p>
        <p>As part of the transcoding process, Video Cloud  automatically creates a video still and thumbnail image from the video file and assigns it to the video (unless the video already has these images assigned to it). The image selected is a frame at the 50% mark in the video. You can <a href="//support.brightcove.com/en/video-cloud/docs/capturing-still-images-videos">use the Media module to capture a different frame</a> to use as your video's video still and thumbnail image, or you can replace these images with other images you choose, <a href="//support.brightcove.com/en/video-cloud/docs/editing-video-properties-media-module">using the Edit Video dialog</a> in the Media module.</p>
      </div>

      <div id="details" class="section">
        <h2><a name="details"></a>Streaming renditions</h2>
        <p>In this section you will learn about viewing multi-bitrate streaming renditions in the Media module. After you have uploaded renditions, you can view information about them in the Media module. Select a video in the Media module; at the bottom of the Details pane on the right, under Multi-Bitrate Renditions, the Media module displays how many renditions a video has, together with the resolution and bit rate for each rendition. Click on the rendition information to preview the video in that resolution.</p>
        <div><img width="223" height="106" alt="" src="//img.brightcove.com/mbr-mm-details.jpg" /></div>
        <p>You can also view more detailed information about renditions using the <a href="//support.brightcove.com/en/video-cloud/docs/debugging-brightcove-players">Video Cloud Player Debugger</a>.</p>
      </div>

    </div>
  </div>
  <!-- bcl scripts -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/gist-embed/2.2/gist-embed.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
  <script src="/en/scripts/log.js"></script>
    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script src="/en/scripts/bc-mapi.js"></script>
    <script>
        $(document).foundation();
    </script>
    <script type="text/javascript">
    /******** Any scripts specific to page samples should go here *********/
  </script>
    
    
	<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>