<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" />
    <!-- change title to match the h1 heading -->
    <title id="bclPageTitle">Rendition Selection</title>
    <link href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css" rel="stylesheet" type="text/css" />
    <script src="//use.edgefonts.net/source-code-pro.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <link rel="stylesheet" type="text/css" href="/en/styles/bcls-doc-site.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/atelier-forest.light.min.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/font-hack/2.015/css/hack-extended.min.css">

    <script>
        (function(i, s, o, g, r, a, m) {
        	i['GoogleAnalyticsObject'] = r;
        	i[r] = i[r] || function() {
        		(i[r].q = i[r].q || []).push(arguments)
        	}, i[r].l = 1 * new Date();
        	a = s.createElement(o),
        	m = s.getElementsByTagName(o)[0];
        	a.async = 1;
        	a.src = g;
        	m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-2728311-29', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/vendor/modernizr.js"></script>
</head>

<body>
    <!-- header navbar -->
    <div id="navWrapper" class="fixed"></div>
    <!-- breadcrumbs -->
    <nav id="breadCrumbWrapper" class="breadcrumbs show-for-medium-up"></nav>
    <!-- search -->
    <div id="searchModal" class="reveal-modal" data-reveal></div>
    <!-- content -->
    <!-- content -->
    <div class="row">
        <div class="sidebar large-2 columns show-for-large-up">
            <div id="sidenav" class="side-nav"></div>
        </div>
        <div id="main" class="large-10 small-12 columns">
            <div class="section" id="top">
                <h1>Rendition Selection</h1>
            </div>
            <div id="top" class="section" title="Top">
                <p>For apps using the Brightcove Native Player SDK for iOS, there is a default rendition selection process when playing a video: <code>[BCOVBasicSourceSelectionPolicy sourceSelectionHLS]</code>.</p>
				<p class="BCL-aside">Note: Although you can't control which rendition in the HLS manifest gets selected by the AVPlayer, you can apply a <a href="../../brightcove-player-sdk-for-ios/samples/code-examples.html#limitBitrate">bitrate cap on the playback rendition</a>.</p>
                <p>When you retrieve videos from the Brightcove catalog or construct a <code>BCOVVideo</code> object with multiple <code>BCOVSource</code> elements, the player has to decide which <code>BCOVSource</code> (rendition) to play back.</p>
                <p>Brightcove provides a default implementation as follows:</p>
              <ol>
                  <li>It looks for the first source that has a <code>deliveryType</code> of <strong>HLS</strong>.</li>
                  <li>If none is found, it will fall back to the first source with a <code>deliveryType</code> of <strong>MP4</strong>.</li>
                  <li>The source URL is provided to the <code>AVPlayer</code> for playback.</li>
                  <li>When playback begins, the <code>AVPlayer</code> is responsible for selecting which bit rate and resolution to serve.</li>
                  <li>The <code>AVPlayer</code> will start at the first item in the index and adjust accordingly.</li>
              </ol>
              <p>When using the default transcode settings, the first HLS source should be the master m3u8 playlist that points to all of your individual renditions.</p>
 
            </div>
			
			<div id="alternateSelection" class="section">
				<h2>Alternate rendition selection policies</h2>
				<p> Apple introduced App Transport Security in iOS 9, and strongly encourages the use of HTTPS instead of HTTP for all web traffic. To help with source selection using HTTPS, you can use the source selection policy <code>[BCOVBasicSourceSelectionPolicy sourceSelectionHLSWithScheme:(NSString *)scheme]</code>, passing <code>kBCOVSourceURLSchemeHTTPS</code> as the desired scheme.</p>
				<p>This policy has the following implementation: </p> 
				<ol>
					<li>It looks for the first source that has a <code>deliveryType</code> of <strong>HLS</strong> with the selected scheme.</li>
					<li>If no such source is found, it looks for the first source that has a <code>deliveryType</code> of <strong>HLS</strong> with any scheme.</li>
					<li>If no HLS sources are present, it will fall back to the first source with a <code>deliveryType</code> of <strong>MP4</strong>.</li>
					<li>If none of the above is found, it will use the first source of any kind.</li>
				</ol>
			</div>
            
            <div id="overrideSource" class="section">
				<h2>Overriding source</h2>
                <p> If you want to override which <code>BCOVSource</code> gets provided to the <code>AVPlayer</code>, you can implement the <code>sourceSelectionPolicy</code> block property on the <code>BCOVBasicSessionProviderOption</code>.</p>
			</div>
            
            <div id="widevine" class="section">
				<h2>Widevine plugin</h2>
                <p>The Widevine plugin has a slightly different behavior. Its implementation is as follows:</p>
                <ol>
                    <li>It looks for the first source with a <code>deliveryType</code> of <strong>WVM</strong>.</li>
                    <li>The source URL is provided to the <code>AVPlayer</code> for playback.</li>
                    <li>When playback begins, the <code>AVPlayer</code> is responsible for selecting which bit rate and resolution to serve.</li>
                </ol> 
                <p>Bit rate and resolution selection is handled by the <code>AVPlayer</code>, unless you enable Widevineâ€™s rendition selection option as documented <a href="//www.widevine.com/wv_drm.html">here</a>.</p>
                <p class="BCL-aside">Note: Widevine does not document how their bit rate and resolution selection works.</p>
			</div>
              
        </div>
    </div>
    <!-- bcl scripts -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/js/foundation.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>

    <script src="/en/scripts/docs-nav-data.min.js"></script>
    <script src="/en/scripts/bcls-doc-site.js"></script>
    <script>
        $(document).foundation();
    </script>
<iframe id="CSAT" src="http://survey.clicktools.com/app/survey/go.jsp?iv=3poon3e7e9spn&q1=[articleURL]" style="margin-left:25%; padding-bottom:20px;width:550px;height:475px;border:none"></iframe>
<script>
    
    var cSat = document.getElementById('CSAT'),
        cSatSrc = cSat.getAttribute('src'),
        pageurl = window.location.href;
    cSat.setAttribute('src', cSatSrc.replace('[articleURL]', pageurl));
    
</script>
<br><br>
<div class="footer text-center"><a id="feedbackMail" href="mailto:docs@brightcove.com">Questions or comments?</a></div>
<script>
var feedbackMail = document.getElementById("feedbackMail");
feedbackMail.setAttribute("href", "mailto:docs@brightcove.com?subject=question regarding " + encodeURI(document.location.href));
</script>
</body>

</html>
